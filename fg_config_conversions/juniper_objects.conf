##INFRASTRUCTURE-TO-VCWHCM000788494-1## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-CRAN-AE-L2-OPTIONS

groups {
    CRAN-CRAN-AE-L2-OPTIONS {
        interfaces {
            <*> {
                mtu 9192;
                aggregated-ether-options {
                    no-flow-control;
                    link-speed 10g;
                    lacp {
                        active;
                        periodic slow;
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/XE-AE-L2-OPTIONS


groups {
    CRAN-CRAN-AE-L2-OPTIONS {
        interfaces {
            <*> {
                mtu 9100;
                aggregated-ether-options {
                    no-flow-control;
                    link-speed 10g;
                    lacp {
                        active;
                        periodic slow;
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-CRAN-XE-L2-OPTIONS


groups {
    CRAN-CRAN-XE-L2-OPTIONS {
        interfaces {
            <*> {
                mtu 9192;
                hold-time up 2000 down 0;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-ET-AE-L2-OPTIONS


groups {
    CRAN-ET-AE-L2-OPTIONS {
        interfaces {
            <*> {
                mtu 9192;
                aggregated-ether-options {
                    no-flow-control;
                    link-speed 100g;
                    lacp {
                        active;
                        periodic slow;
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-P2P-COS


groups {
    CRAN-P2P-COS {
        class-of-service {
            interfaces {
                <*> {
                    scheduler-map QOS-MAP;
                    unit 0 {
                        classifiers {
                            dscp DSCPV4-CLASSIFIER;
                            dscp-ipv6 DSCPV6-CLASSIFIER;
                            exp EXP-CLASSIFIER;
                        }
                        rewrite-rules {
                            dscp DSCPV4-REWRITE;
                            dscp-ipv6 DSCPV6-REWRITE;
                            exp EXP-REWRITE;
                        }
                    }
                }
            }
        }
    }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-P2P-L3-OPTIONS


groups {
    CRAN-P2P-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            output DENY-VOD-ON-HSD;
                        }
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/LAYER2-COS


groups {
    LAYER2-COS {
        class-of-service {
            interfaces {
                <*> {
                    scheduler-map QOS-MAP;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/LDP-SESSION-KEY


groups {
    LDP-SESSION-KEY {
        protocols {
            ldp {
                session <*> {
                    authentication-key "[% LDP-MD5-KEY %]";
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/MPLS-OPTIONS


groups {
    MPLS-OPTIONS {
        protocols {
            mpls {
                label-switched-path <*> {
                    link-protection;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/RAN-LDP-OPTIONS


groups {
    RAN-LDP-OPTIONS {
        protocols {
            ldp {
                interface <*> {
                    hello-interval 10;
                    hold-time 30;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/RAN-OSPF-OPTIONS


groups {
    RAN-OSPF-OPTIONS {
        protocols {
            ospf {
                area 0.0.0.0 {
                    interface <*> {
                        interface-type p2p;
                        hello-interval 1;
                        authentication {
                            md5 1 key "[% OSPF-KEY %]";
                        }
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/RAN-PIM-OPTIONS


groups {
    RAN-PIM-OPTIONS {
        protocols {
            pim {
                interface <*> {
                    mode sparse;
                    hello-interval 3;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/VLAN-COS


groups {
    VLAN-COS {
        class-of-service {
            interfaces {
                <*> {
                    unit <*> {
                        classifiers {
                            dscp DSCPV4-CLASSIFIER;
                            dscp-ipv6 DSCPV6-CLASSIFIER;
                        }
                        rewrite-rules {
                            dscp DSCPV4-REWRITE;
                            dscp-ipv6 DSCPV6-REWRITE;
                        }
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/EDGE-BASE-10GE-AE-OPTIONS


 groups {
    EDGE-BASE-10GE-AE-OPTIONS {
        interfaces {
             {
                aggregated-ether-options {
                    no-flow-control;
                    link-speed 10g;
                    lacp {
                        active;
                        periodic slow;
                    }
                }
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/EDGE-BASE-10GE-XE-OPTIONS


groups {
    EDGE-BASE-10GE-XE-OPTIONS {
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/EDGE-PIM-OPTIONS


   groups {
    EDGE-PIM-OPTIONS {
        protocols {
            pim {
                interface <*> {
                    mode sparse;
                }
            }
        }
    }
   }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/HUB-OSPF-OPTIONS


  groups {
    HUB-OSPF-OPTIONS {
        routing-instances {
            HUB {
                protocols {
                    ospf {
                        area 0.0.0.1 {
                            interface <*> {
                                interface-type p2p;
                                hello-interval 1;
                            }
                        }
                    }
                }
            }
        }
    }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/HUB-P2P-L3-OPTIONS


   groups {
    HUB-P2P-L3-OPTIONS {
        interfaces {
            <*> {
                unit <*> {
                    family inet {
                        filter {
                            output DENY-VOD-ADS-ON-HUBLINKS;
                        }
                    }
                }
            }
        }
    }
   }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/L1-ISIS-BCAST-OPTIONS


groups {
 L1-ISIS-BCAST-OPTIONS {
   protocols {
     isis {
        interface <*> {
            csnp-interval 10;
            level 2 disable;
        }
     }
   }
 }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/L1-ISIS-P2P-OPTIONS


groups {
	 L1-ISIS-P2P-OPTIONS {
	   protocols {
		 isis {
			interface <*> {
				csnp-interval 10;
				point-to-point;
				level 2 disable;
			}
		 }
	   }
	}
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/L1L2-ISIS-OPTIONS


groups {
 L1L2-ISIS-OPTIONS {
   protocols {
     isis {
        interface <*> {
	    ldp-synchronization;
            csnp-interval 10;
            point-to-point;
        }
     }
   }
 }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/L2-ISIS-OPTIONS


groups {
 L2-ISIS-OPTIONS {
   protocols {
     isis {
        interface <*> {
            ldp-synchronization;
            csnp-interval 10;
            point-to-point;
            level 1 disable;
        }
     }
   }
 }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/MCAST-RCVR-L3-OPTIONS


  groups {
    MCAST-RCVR-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            output EQAM-OUT;
                        }
                    }
                }
            }
        }
    }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/MCAST-SRC-L3-OPTIONS


  groups {
    MCAST-SRC-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            input SP-MULTICAST-VIDEO-IN;
                            output EQAM-OUT;
                        }
                    }
                }
            }
        }
    }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/TSV-L3-OPTIONS


groups {
    TERM-SERVER-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            output DENY-VOD-ADS-ON-HUBLINKS;
                        }
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/VOD-QAM-L3-OPTIONS


   groups {
    VOD-QAM-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            output EQAM-OUT;
                        }
                    }
                }
            }
        }
    }
   }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/CRAN-CRAN-GRE-L3-OPTIONS


CRAN-CRAN-GRE-L3-OPTIONS {
        interfaces {
             <*> {
                unit <*> {
                    family inet {
                        mtu 1600;
                    }
                    copy-tos-to-outer-ip-header;
                }
            }
        }
    }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/EDGE-MGMT-L3-OPTIONS


 EDGE-MGMT-L3-OPTIONS {
        interfaces {
            <*> {
                unit 0 {
                    family inet {
                        filter {
                            input SP-NETMGMT-IN;
                            output SP-NETMGMT;
                        }
                    }
                    family inet6 {
                        filter {
                            input V6-SP-NETMGMT-IN;
                        }
                    }
                }
            }
        }
    }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/GROUPS/EDGE-INTF-COS


    EDGE-INTF-COS {
        class-of-service {
            interfaces {
                <*> {
                    scheduler-map QOS-MAP;
                    unit * {
                        classifiers {
                            dscp DSCPV4-CLASSIFIER;
                            dscp-ipv6 DSCPV6-CLASSIFIER;
                            exp EXP-CLASSIFIER;
                        }
                        rewrite-rules {
                            dscp DSCPV4-REWRITE;
                            dscp-ipv6 DSCPV6-REWRITE;
                            exp EXP-REWRITE;
                        }
                    }
                }
            }
        }
    }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/AAA/ACCOUNTING


## Division:  RADIUS-TACACS-PRI/RADIUS-TACACS-SEC
## Central:     172.28.122.42/172.28.154.19
## NorthEast:  172.28.154.16/172.27.3.41
## West:        172.27.72.133/172.27.40.17

system {
    accounting {
        events [ login change-log interactive-commands ];
        destination {
            tacplus {
                server {
                    [% RADIUS-TACACS-PRI %] {
                        secret "[% TACACS-KEY %]";
                        timeout 5;
                        single-connection;
                        source-address [% LOOPBACK0-IPV4-ADDRESS %];
                    }
                    [% RADIUS-TACACS-SEC %] {
                        secret "[% TACACS-KEY %]";
                        timeout 5;
                        single-connection;
                        source-address [% LOOPBACK0-IPV4-ADDRESS %];
                    }
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/AAA/AUTHENTICATION


## Division:  RADIUS-TACACS-PRI/RADIUS-TACACS-SEC
## Central:     172.28.122.42/172.28.154.19
## NorthEast:  172.28.154.16/172.27.3.41
## West:        172.27.72.133/172.27.40.17

system {
    authentication-order radius;
    radius-server {
        [% RADIUS-TACACS-PRI %] {
            port 1645;
            accounting-port 1646;
            secret "[% RADIUS-KEY %]";
            timeout 5;
            retry 1;
            source-address [% LOOPBACK0-IPV4-ADDRESS %];
        }
        [% RADIUS-TACACS-SEC %] {
            port 1645;
            accounting-port 1646;
            secret "[% RADIUS-KEY %]";
            timeout 5;
            retry 1;
            source-address [% LOOPBACK0-IPV4-ADDRESS %];
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/AAA/LOCAL-ACCOUNTS


system {
    login {
    	 class UNDERSCORE_R {
            idle-timeout 15;
            permissions [ configure firewall interface-control network routing trace view view-configuration ];
            allow-commands "clear interfaces statistics";
            allow-configuration "(system static-host-mapping)|(system ntp)|(protocols ospf area 0.0.0.0 interface .*)|(routing-instances HUB .*)|(protocols isis interface .*)|(protocols pim interface .*)|(protocols igmp interface .*)|(routing-options static .*)";
            deny-configuration "(system root-authentication)|(.* traceoptions)";
        }
        class UNDERSCORE_U {
            idle-timeout 15;
            permissions [ configure firewall interface-control network routing trace view view-configuration ];
            allow-configuration "(routing-instances .*)|(groups .* routing-instances .*)|(system static-host-mapping)|(system ntp)|(protocols isis interface .*)|(protocols pim interface .*)|(protocols igmp interface .*)";
            deny-configuration "(system root-authentication)|(.* traceoptions)";
        }

        class readonly-local {
            idle-timeout 15;
            permissions all;
            allow-commands "^set cli|^request message|^request routing-engine|^request support";
            deny-commands "^set|^configure|^request|^start";
        }
        class superuser-local {
            idle-timeout 15;
            permissions all;
        }
        user UNDERSCORE_R {
            uid 3001;
            class UNDERSCORE_R;
            authentication {
                encrypted-password "$1$YdA.Qjax$Htdby34LcbcA.Iunfpzrw0";
            }
        }
        user UNDERSCORE_U {
            uid 3002;
            class UNDERSCORE_U;
            authentication {
                encrypted-password "$1$dTpEsJwl$aHu8XXkmaXB/6W/4aYwdy1";
            }
        }
        user readonly {
            uid 2002;
            class readonly-local;
        }
        user red {
            uid 2001;
            class superuser-local;
        }
        user superuser {
            uid 1001;
            class superuser-local;
        }
    }
}


## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/BANNER


## BANNER
system {
    login {
        message "\n********************************************************************************\n                                WARNING\n\n        This system is solely for the use of authorized Comcast employees and\ncontractors. Comcast reserves the right at any time to monitor usage of this\nsystem to ensure compliance with this policy, all applicable Comcast policies\nthat apply to electronic communications, and all applicable laws. Your use of\nthis system constitutes your acceptance of and agreement to all applicable\nComcast electronic communications policies, your consent to monitoring by\nComcast,and your express agreement to use this system in compliance with all\napplicable laws. Any unauthorized use of or access to this system may result\nin a revocation of your user privileges, other disciplinary action up to and\nincluding termination of employment or contract, or referrals to law\nenforcement officials including the provision evidence of any unauthorized use\nor access to law enforcement.\n\n\Location: [% LOCATION %] \n\n********************************************************************************";
    }
 }


## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/DNS


## DNS
system {
    name-server {
        69.252.80.80;
        69.252.81.81;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/DOMAIN-NAME



system {
    domain-name comcast.net;
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/GENERAL-SYSTEM-COMMANDS


system {
    dump-on-panic;
    internet-options {
        path-mtu-discovery;
    }
    compress-configuration-files;
    commit synchronize;
    ports {
    	console log-out-on-disconnect;
	}
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/HOSTNAME


## HOSTNAME
groups {
    re0 {
        system {
            host-name re0-[% HOSTNAME %];
        }
    }
    re1 {
        system {
            host-name re1-[% HOSTNAME %];
        }
    }
}
apply-groups [ re0 re1 ];


## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/LOGGING


## LOGGING
system {
    syslog {
        user * {
            any emergency;
        }
        host 172.28.141.97 {
            any info;
            interactive-commands notice;
            facility-override local7;
            change-log info;
        }
        file messages {
            any notice;
            authorization info;
            daemon info;
            interactive-commands none;
            match "!(.*STL library initialized.*)";
            archive size 10m files 10 world-readable;
        }
        file cli-commands {
            authorization any;
            interactive-commands any;
            archive size 10m files 10 world-readable;
        }
        file firewall {
            firewall any;
        }
        file default-log-messages {
            any info;
            match "(FRU Offline)|(FRU Online)|(FRU insertion)|(FRU power)|(FRU removal)|(commit complete)|(copying configuration to juniper.save)|(license add)|(license delete)|(link UP)|(package -X delete)|(package -X update)|(plugged in)|(requested 'commit' operation)|(unplugged)|Transferred|ifAdminStatus|transfer-file|transitioned|CFMD_CCM_DEFECT| LFMD_3AH | RPD_MPLS_PATH_BFD|(Master Unchanged, Members Changed)|(Master Changed, Members Changed)|(Master Detected, Members Changed)|(vc add)|(vc delete)|(Master detected)|(Master changed)|(Backup detected)|(Backup changed)|(interface vcp-)|(AIS_DATA_AVAILABLE)";
            structured-data;
        }
         source-address [% LOOPBACK0-IPV4-ADDRESS %];
    }
}


## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/NTP


## NTP
system {
    ntp {
        server 68.87.66.58;
        server 68.87.66.59;
        server 69.252.204.140;
        server 69.252.204.141;
        server 68.87.31.6;
        server 68.87.31.7;
        source-address [% LOOPBACK0-IPV4-ADDRESS %];
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SYSTEM/SERVICES


## SERVICES
system {
    services {
        ssh {
            protocol-version v2;
            connection-limit 16;
            rate-limit 50;
        }
        telnet {
            connection-limit 16;
            rate-limit 50;
        }
        netconf {
            ssh;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CHASSIS


chassis {
    redundancy {
        routing-engine 0 master;
        routing-engine 1 backup;
        failover {
            on-loss-of-keepalives;
            on-disk-failure;
        }
        graceful-switchover;

    }
    aggregated-devices {
        ethernet {
            device-count 20;
        }
    }
    alarm {
        management-ethernet {
            link-down ignore;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/FXP0


interfaces {
    fxp0 {
        disable;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/LOOPBACK0


interfaces {
    lo0 {
        unit 0 {
            family inet {
                filter {
                    input PROTECT-RE-IN;
                    output PROTECT-RE-OUT;
                }
            	/* Loopback for LSP Ping */
                address 127.0.0.1/32;
                 /* Loopback0 - IPv4 Routing Loopback */
	       		address [% LOOPBACK0-IPV4-ADDRESS %]/32 {
                    primary;
                    preferred;
                }
                /* Loopback 1 primary equiv */
			    address [% LOOPBACK1-IPV4-PRIMARY-ADDRESS %]/32;

				/* Loopback 1 secondary equiv â€“ only used when dual-chassis */
				address [% LOOPBACK-HUB-OSPF-IPV4-SECONDARY %]/32;

                 /* Loopback10  Loopback for MPLS Traffic */
                address [% LOOPBACK5-IPV4-ADDRESS %]/32;

            }
            family inet6 {
                filter {
	                    input V6-PROTECT-RE-IN;
	                    output V6-PROTECT-RE-OUT;
	            }
            	/* Loopback60 - IPv6 Routing Loopback */
		        address [% LOOPBACK60-IPV6-ADDRESS %]/128 {
	                    primary;
	                    preferred;
	            }
	            /* Loopback 61 primary equiv */
				address [% LOOPBACK61-IPV6-PRIMARY-ADDRESS %]/128;
				/* Loopback 61 secondary equiv â€“ only used when dual-chassis */
				address [% LOOPBACK61-IPV6-SECONDARY-ADDRESS %]/128;

	        }
	        family iso {
                address 49.0000.[% ISO-SYS-ID %].00;
            }
        }
        unit 1 {
			descriptions â€œLoopback for AUPM CRAN-FBF VPNâ€;
			family inet {

				 address [% VPN-1-LOOPBACK-IPV4-ADDRESS %]/32;
			 }
			family inet6 {
				 address [% VPN-1-LOOPBACK-IPV6-ADDRESS %]/128;
			 }
		}
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-100G-AE/AE-LINK


interfaces {
    ae[% AE# %] {
        apply-groups [ CRAN-ET-AE-L2-OPTIONS CRAN-P2P-L3-OPTIONS ];
        description "AGG|[% NUMBER-OF-MEMBER-LINKS %]X10G|RAN-P2P|rhost:[% REMOTE-HOST %]|ragg:ae[% REMOTE-AE# %]|comments:min links -[% MINIMUM-LINKS-NUMBER %]";
        aggregated-ether-options {
            minimum-links [% MINIMUM-LINKS-NUMBER %];
        }
        unit 0 {
            family inet {
                address [% RAN-P2P-IPV4-ADDRESS %]/30;
            }
            family iso;
            family inet6 {
                address [% RAN-P2P-IPV6-ADDRESS %] /64;
            }
            family mpls;
        }
    }
}


class-of-service {
    interfaces {
        ae[% AE# %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    ospf {
        area 0.0.0.0 {
            interface ae[% AE# %].0 {
                metric [% IGP-METRIC %];
            }
        }
    }
    isis {
        interface ae[% AE# %].0 {
			apply-groups L2-ISIS-OPTIONS;
            level 2 {
                metric [% IGP-METRIC %];
                ipv6-unicast-metric [% IGP-METRIC %];
            }
        }
    }
    rsvp {
        interface ae[% AE# %].0;
    }
    mpls {
        interface ae[% AE# %].0;
    }
    ldp {
        interface ae[% AE# %].0;
        session [% REMOTE-LOOPBACK10-IPV4-ADDRESS %];
    }
    pim {
        interface ae[% AE# %].0 {
            apply-groups RAN-PIM-OPTIONS;
        }
    }
    igmp {
	    interface ae[% AE# %].0 {
	        version 3;  ## Optional, if the link partner is a CRS/ASR, then set IGMP version to avoid log jamming;
	    }
    }
}

routing-options {
    multicast {
        scope hub-local {
            interface ae[% AE# %].0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-100G-AE/MEMBER-LINK


interfaces {
    et-[% FPC %]/[% PIC %]/[% PORT %] {
        description "PHY|100G|AGG-MEMBER|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]|lagg:ae[% AE# %]|ragg:ae[% REMOTE-AE# %]";
        hold-time up 2000 down 0;
        gigether-options {
            802.3ad ae[% AE# %];
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10G-AE/AE-LINK


interfaces {
    ae[% AE# %] {
        apply-groups [ CRAN-CRAN-AE-L2-OPTIONS CRAN-P2P-L3-OPTIONS ];
        description "AGG|[% NUMBER-OF-MEMBER-LINKS %]X10G|RAN-P2P|rhost:[% REMOTE-HOST %]|ragg:ae[% REMOTE-AE# %]|comments:min links -[% MINIMUM-LINKS-NUMBER %]";
        aggregated-ether-options {
            minimum-links [% MINIMUM-LINKS-NUMBER %];
        }
        unit 0 {
            family inet {
                address [% RAN-P2P-IPV4-ADDRESS %]/30;
            }
            family iso;
            family inet6 {
                address [% RAN-P2P-IPV6-ADDRESS %] /64;
            }
            family mpls;
        }
    }
}


class-of-service {
    interfaces {
        ae[% AE# %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    ospf {
        area 0.0.0.0 {
            interface ae[% AE# %].0 {
                metric [% IGP-METRIC %];
            }
        }
    }
    isis {
        interface ae[% AE# %].0 {
			apply-groups L2-ISIS-OPTIONS;
            level 2 {
                metric [% IGP-METRIC %];
                ipv6-unicast-metric [% IGP-METRIC %];
            }
        }
    }
    rsvp {
        interface ae[% AE# %].0;
    }
    mpls {
        interface ae[% AE# %].0;
    }
    ldp {
        interface ae[% AE# %].0;
        session [% REMOTE-LOOPBACK10-IPV4-ADDRESS %];
    }
    pim {
        interface ae[% AE# %].0 {
            apply-groups RAN-PIM-OPTIONS;
        }
    }
    igmp {
    interface ae[% AE# %].0 {
        version 3;  ## Optional, if the link partner is a CRS/ASR, then set IGMP version to avoid log jamming;
    }
    }
}

routing-options {
    multicast {
        scope hub-local {
            interface ae[% AE# %].0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10G-AE/MEMBER-LINK


interfaces {
    [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
        description "PHY|10G|AGG-MEMBER|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]|lagg:ae[% AE# %]|ragg:ae[% REMOTE-AE# %]";
        hold-time up 2000 down 0;
        gigether-options {
            802.3ad ae[% AE# %];
        }
    }
}
protocols {
	lldp {
		interface [% xe|ge %]-[% FPC %]/[% PIC % ]/[% PORT %];
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10G-AE-INTRA/AE-LINK


interfaces {
    ae[% AE# %] {
        apply-groups [ CRAN-CRAN-AE-L2-OPTIONS CRAN-P2P-L3-OPTIONS ];
        description "AGG|[% NUMBER-OF-MEMBER-LINKS %]X10G|RAN-P2P|rhost:[% REMOTE-HOST %]|ragg:ae[% REMOTE-AE# %]|comments:min links -[% MINIMUM-LINKS-NUMBER %]";
        aggregated-ether-options {
            minimum-links [% MINIMUM-LINKS-NUMBER %];
        }
        unit 0 {
            family inet {
                address [% RAN-P2P-IPV4-ADDRESS %]/30;
            }
            family iso;
            family inet6 {
                address [% RAN-P2P-IPV6-ADDRESS %] /64;
            }
            family mpls;
        }
    }
}


class-of-service {
    interfaces {
        ae[% AE# %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    ospf {
        area 0.0.0.0 {
            interface ae[% AE# %].0 {
                metric [% IGP-METRIC %];
            }
        }
    }
    isis {
       interface ae[% AE# %].0 {
	            apply-groups L1L2-ISIS-OPTIONS;
	            level 1 {
	                          metric [% IGP-METRIC %];
	                          ipv6-unicast-metric [% IGP-METRIC %];
	            }
	            level 2 {
	                          metric [% IGP-METRIC %];
	                          ipv6-unicast-metric [% IGP-METRIC %];
	            }
	    }
	}
    rsvp {
        interface ae[% AE# %].0;
    }
    mpls {
        interface ae[% AE# %].0;
    }
    ldp {
        interface ae[% AE# %].0;
        session [% REMOTE-LOOPBACK10-IPV4-ADDRESS %];
    }
    pim {
        interface ae[% AE# %].0 {
            apply-groups RAN-PIM-OPTIONS;
        }
    }
    igmp {
    interface ae[% AE# %].0 {
        version 3;  ## Optional, if the link partner is a CRS/ASR, then set IGMP version to avoid log jamming;
    }
    }
}

routing-options {
    multicast {
        scope hub-local {
            interface ae[% AE# %].0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10G-AE-INTRA/MEMBER-LINK


interfaces {
    [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
        description "PHY|10G|AGG-MEMBER|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]|lagg:ae[% AE# %]|ragg:ae[% REMOTE-AE# %]";
        hold-time up 2000 down 0;
        gigether-options {
            802.3ad ae[% AE# %];
        }
    }
}
protocols {
	lldp {
		interface [% xe|ge %]-[% FPC %]/[% PIC % ]/[% PORT %];
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10GE



interfaces {
    [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
        apply-groups [ CRAN-CRAN-XE-L2-OPTIONS CRAN-P2P-L3-OPTIONS ];
        description "PHY|10G|RAN-P2P|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]";
        unit 0 {
            family inet {
                address [% RAN-P2P-IPV4-ADDRESS %]/30;
            }
            family iso;
            family inet6 {
                address [% RAN-P2P-IPV6-ADDRESS %]/64;
            }
            family mpls;
        }
    }
}

class-of-service {
    interfaces {
        [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    ospf {
        area 0.0.0.0 {
            interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
                metric [% IGP-METRIC %];
            }
        }
    }
    isis {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
            apply-groups L2-ISIS-OPTIONS;
            level 2 {
                metric [% IGP-METRIC %];
                ipv6-unicast-metric [% IGP-METRIC %];
            }
        }
    }
    rsvp {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
    }
    mpls {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
    }
    ldp {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
        session [% REMOTE-LOOPBACK10-IPV4-ADDRESS %];
    }
    pim {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
            apply-groups RAN-PIM-OPTIONS;
        }
    }

    igmp {
	    interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
	        version 3; ## Optional, if the link partner is a CRS/ASR, then set IGMP version to avoid log jamming;
	    }
    }
    lldp {
		interface [% xe|ge %]-[% FPC %]/[% PIC % ]/[% PORT %];
    }
 }

routing-options {
    multicast {
        scope hub-local {
            interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/RAN-P2P-10GE-INTRA


## For links between two SURs at the same site
interfaces {
    [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
        apply-groups [ CRAN-CRAN-XE-L2-OPTIONS CRAN-P2P-L3-OPTIONS ];
        description "PHY|10G|RAN-P2P|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]";
        unit 0 {
            family inet {
                address [% RAN-P2P-IPV4-ADDRESS %]/30;
            }
            family iso;
            family inet6 {
                address [% RAN-P2P-IPV6-ADDRESS %]/64;
            }
            family mpls;
        }
    }
}

class-of-service {
    interfaces {
        [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    ospf {
        area 0.0.0.0 {
            interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
                metric [% IGP-METRIC %];
            }
        }
    }
    isis {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
            apply-groups L1L2-ISIS-OPTIONS;
            level 1 {
                          metric [% IGP-METRIC %];
                          ipv6-unicast-metric [% IGP-METRIC %];
            }
            level 2 {
                          metric [% IGP-METRIC %];
                          ipv6-unicast-metric [% IGP-METRIC %];
            }
        }
    }
    rsvp {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
    }
    mpls {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
    }
    ldp {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
        session [% REMOTE-LOOPBACK10-IPV4-ADDRESS %];
    }
    pim {
        interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
            apply-groups RAN-PIM-OPTIONS;
        }
    }

    igmp {
	    interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0 {
	        version 3; ## Optional, if the link partner is a CRS/ASR, then set IGMP version to avoid log jamming;
	    }
    }
    lldp {
		interface [% xe|ge %]-[% FPC %]/[% PIC % ]/[% PORT %];
    }
 }

routing-options {
    multicast {
        scope hub-local {
            interface [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %].0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/PHYSICAL-INTERFACES


### Virtual Chassis Switch Pod 1 and 2 interfaces

interfaces {
    xe-[% FPC %]/[% PIC %]/[% PORT %] {
        description "PHY|10G|AGG-MEMBER|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]|lagg:ae[% AE# %]|ragg:[% REMOTE-AGG %]";
        gigether-options {
            802.3ad ae[% AE# %];
        }
    }
}


interfaces {
    ae[% AE# %] {
        apply-groups XE-AE-L2-OPTIONS;
        description "AGG|[% NUMBER-OF-MEMBER-LINKS %]X10G|EDGE-L2-TRUNK|dtype:L2-SWITCH|rhost:[% REMOTE-HOST %]|ragg:ae[% REMOTE-AE# %]|comments:min links -[% MINIMUM-LINKS-NUMBER %]";
        vlan-tagging;
    }
}


class-of-service {
    interfaces {
        ae[% AE# %] {
            apply-groups EDGE-INTF-COS;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/SWITCH-MGMT-LOGICAL-INTERFACE


#### Switch Mgmt
interfaces {
    ae[% AE# %] {
        unit 100 {
            description "SW-Mgmt";
            vlan-id 100;
            family inet {
                no-redirects;
                filter {
                    input SP-NETMGMT-IN;
                }
                address [% INTERNAL-IPV4-ADDRESS %]/28;
            }
        }
   }
}

routing-options {
    static {
        route [% LOOPBACK0-IPV4-ADDRESS %]/32 next-hop [% IPV4-NEXTHOP-ADDRESS %];
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/GREEN-ZONE-LOGICAL-INTERFACE


#### Green Zone
The listed output filters for the Green and Blue zones initially replicate the filters provided
by Security. Refer to National Security Operations wiki for the latest ACLs for each of the
Security Zones: https://wiki.io.comcast.net/display/NSO/Network+Security+Zones+ACLs


interfaces {
    ae[% AE# %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-NETMGMT-IN;
                    output [% SITE %]-vlan[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]-FILTER;
                }
                address [% INTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% INTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-NETMGMT-IN;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]-FILTER;
                }
                address [% INTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% INTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               ae[% AE# %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% INTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_INT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/GREEN-ZONE-LOGICAL-STANDALONE-STREAM


#### Blue Zone
interfaces {
    ae[% AE# %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-DC-GREEN-EXCEPTION;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-DC-GREEN-EXCEPTION;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               ae[% AE# %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/BLUE-ZONE-LOGICAL-INTERFACE


#### Blue Zone
interfaces {
    ae[% AE# %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-MARK-CS1;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-MARK-CS1;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               ae[% AE# %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-VIRTUAL-CHASSIS-SWITCH-INTERFACES/BLUE-ZONE-LOGICAL-STANDALONE-STREAM


#### Blue Zone
interfaces {
    ae[% AE# %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-DC-BLUE-EXCEPTION;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-DC-BLUE-EXCEPTION;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               ae[% AE# %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-L2-DEVICE-INTERFACES/PHYSICAL-INTERFACES


### Layer 2 Devices including switches and F5 Load Balancers

interfaces {
    xe-[% FPC %]/[% PIC %]/[% PORT %] {
        description "PHY|10G|AGG-MEMBER|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]|lagg:ae[% AE# %]|ragg:[% REMOTE-AGG %]";
        gigether-options {
            802.3ad ae[% AE# %];
        }
    }
}

interfaces {
    ae[% AE# %] {
        apply-groups XE-AE-L2-OPTIONS;
        description "AGG|[% NUMBER-OF-MEMBER-LINKS %]X10G|EDGE-L2-TRUNK|dtype:[% DEVICE-TYPE %]|rhost:[% REMOTE-HOST %]|ragg:ae[% REMOTE-AE# %]";
        vlan-tagging;
        aggregated-ether-options {
            minimum-links [% NUMBER-OF-MEMBER-LINKS %];
            lacp {
                active;
            }
        }
    }
}

class-of-service {
    interfaces {
        ae[% AE# %] {
            apply-groups EDGE-INTF-COS;
 	   }
 	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-L2-DEVICE-INTERFACES/EDGE-GREEN-ZONE-INTERFACE


#### Green Zone
interfaces {
     [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-NETMGMT-IN;
                    output [% SITE %]-vlan[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]-FILTER;
                }
                address [% INTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% INTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                    input V6-SP-NETMGMT-IN;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-GREEN-[% REMOTE-HOST %]-FILTER;
                }
                address [% INTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% INTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
                [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface  [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% INTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_INT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-L2-DEVICE-INTERFACES/EDGE-GREEN-ZONE-STANDALONE-STREAM


#### Blue Zone
interfaces {
    [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-DC-GREEN-EXCEPTION;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-DC-GREEN-EXCEPTION;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-L2-DEVICE-INTERFACES/EDGE-BLUE-ZONE-INTERFACE


#### Blue Zone
interfaces {
    [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-MARK-CS1;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-MARK-CS1;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface  [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/INTERFACES/EDGE-L2-DEVICE-INTERFACES/EDGE-BLUE-ZONE-STANDALONE-STREAM


#### Blue Zone
interfaces {
    [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %] {
        unit [% UNIT# %] {
            description "VLAN[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]";
            vlan-id [% VLAN-ID %];
            family inet {
                no-redirects;
                filter {
                    input SP-DC-BLUE-EXCEPTION;
                    output [% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV4-ADDRESS %]/[% MASK %] {
                    vrrp-group [% VRRP-GRP_NO %] {
                        virtual-address [% EXTERNAL-IPV4-VRRP-ADDRESS %];
                        priority [ 109 or 110 ];
                        advertise-interval 5;
                        preempt;
                        accept-data;
                    }
                }
            }

            family inet6 {
                filter {
                	input V6-SP-DC-BLUE-EXCEPTION;
                    output IPV6-[% SITE %]-vlan[% VLAN-ID %]-BLUE-[% REMOTE-HOST %]-FILTER;
                }
                address [% EXTERNAL-IPV6-ADDRESS %]/64 {
                        virtual-inet6-address [% EXTERNAL-IPV6-VRRP-ADDRESS %];
                        virtual-link-local-address [% fe80:[Blocks 2-8] %];
                        priority [ 109 or 110 ];
                        preempt;
                        accept-data;
                }
            }
        }
    }
}

forwarding-options {
    helpers {
        bootp {
            interface {
               [% [% ge|xe|et %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %].[% UNIT# %];
            }
        }
    }
}

protocols {
    router-advertisement {
        interface [% AE# %].[% UNIT# %] {
            max-advertisement-interval 10;
            link-mtu;
            default-lifetime 1800;
            prefix [% EXTERNAL-IPV6-SUBNET %]/64 {
                no-autonomous;
            }
        }
    }
}

policy-options {
     policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% CRAN_AGG_TO_EXT_SUBNET %]/[% MASK %] orlonger;
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FORWARDING-OPTIONS


forwarding-options {
    hash-key {
        family inet {
            layer-3;
            layer-4;
        }
        family mpls {
            label-1;
            label-2;
            label-3;
            payload {
                ether-pseudowire;
            }
        }
        family multiservice {
            source-mac;
            destination-mac;
        }
    }
    helpers {
        traceoptions {
            file dhcp-logs size 1m files 10;
            level notice;
            flag bootp;
        }
        bootp {
            relay-agent-option;
            maximum-hop-count 10;
            client-response-ttl 255;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/EVENT-OPTIONS


event-options {
    policy SYSTEM-ALARM {
        events SYSTEM;
        attributes-match {
            SYSTEM.message matches "alarm set";
        }
        then {
            raise-trap;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/SNMP



snmp {
	name [% DEVICE ROLE/UNIT %].[% SITE %].[% STATE %].[% CRAN-NAME %].comcast.net;
    location "[% LOCATION %]";

    contact "Comcast NNOC 888-662-6386";
    filter-duplicates;
    view all {
        oid 1 include;
    }
    community Q845q8st {
      authorization read-only;
	  client-list-name SNMP-RE-FILTER;
    }
    community Net9M9mt {
		 authorization read-only;
		 client-list-name SNMP-RE-FILTER;
    }
    trap-options {
        source-address [% LOOPBACK0-IPV4-ADDRESS %];
    }
    trap-group 6LaRmZ {
        version v2;
        categories {
            chassis;
            link;
            routing;
            startup;
            configuration;
            services;
            sonet-alarms;
        }
       targets {
        172.24.203.110;
        172.28.104.72;
       }
    }
    trap-group space {
		targets {
			68.87.108.106;
		}
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/RE-BASED-NETFLOW/GROUPS


## The group below assumes that the interface does not have any other input filters.
groups {
    JFLOW-ENABLED-INTERFACES {
  		interfaces {
            <*> {
                unit <*> {
                	family inet {
		                filter {
		                    input FLOW-SAMPLE;
		                }
		            }
  				}
  			}
  	    }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/RE-BASED-NETFLOW/FIREWALL-FILTER


firewall {
    family inet {
        filter FLOW-SAMPLE {
            term sample {
                then {
					sample;
					accept;
				}
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/RE-BASED-NETFLOW/INTERFACES


## If there are other groups applied to the interface already, JFLOW-ENABLED-INTERFACES group will be appended to the end.
interfaces {
    [% [% xe|ge %]-[% FPC %]/[% PIC %]/[% PORT %] | ae[% AE# %] %] {
        apply-groups JFLOW-ENABLED-INTERFACES;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/RE-BASED-NETFLOW/FORWARDING-OPTIONS


forwarding-options {
    sampling {
        input {
            rate 8000;
        }
        family inet {
            output {
                flow-server [% CFLOWD-SERVER-IPV4-ADDRESS %] {
                    port 9990;
                    source-address [% LOOPBACK0-IPV4-ADDRESS %];
                    version 5;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/ROUTING-OPTIONS


routing-options {
	traceoptions {
   	 file nsr-flag;
    	 flag nsr-synchronization;
    }
    nonstop-routing;
    router-id [% LOOPBACK10-IPV4-ADDRESS %];
    autonomous-system [% CRAN-ASN %];
    forwarding-table {
        export ECMP;
    }
    static {
        route 192.0.2.100/32 discard;
    }
    rib-groups {
        HUB {
            import-rib [ HUB.inet.0 inet.0 ];
            import-policy HUB-RIB-GROUP-TO-INET0;
        }
        V6-HUB {
					import-rib [ HUB.inet6.0 inet6.0 ];
					import-policy V6-HUB-RIB-GROUP-TO-INET6;
		}
    }
    rib inet6.0 {
    	static {
	       route 2001:db8::dead/128 discard;
		}
    }
    multicast {
        asm-override-ssm;
        scope hub-local {
            prefix 239.255.0.0/16;
        }
        ssm-groups [ 232.0.0.0/8 233.0.0.0/8 239.0.0.0/8 ];
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/IGMP


protocols {
    igmp {
        traceoptions {
            file igmp-logs size 10m files 10;
            flag state;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/MLD


protocols {
    mld {
        interface all {
            disable;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/ROUTER-ADVERTISEMENT


protocols {
    router-advertisement {
        traceoptions {
            file ipv6-nd-trace;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/MPLS


protocols {
    mpls {
    	statistics {
            file lsp_stats size 100000 files 10;
            interval 300;
        }
        log-updown {
            no-trap {
                rfc3812-traps;
            }
        }
	    traffic-engineering bgp-igp-both-ribs;
        traceoptions {
            file mpls-logs size 10m files 10;
            flag error;
        }
        ipv6-tunneling;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/BGP/GROUP-RR-SERVER


protocols {
	bgp {
        group rr-server {
            type internal;
            traceoptions {
                file ibgp-logs size 10m files 10;
                flag state;
            }
            local-address [% LOOPBACK0-IPV4-ADDRESS %];     ## Loopback 0;
            family inet {
                unicast;
            }
            authentication-key "[% BGP-MD5-KEY %]";   ## bgp md5 key provided separately;
            export [ V4-UNICAST-ONLY IPV4-ISIS-L1-TO-BGP HUB-OSPF-TO-BGP CONNECTED-TO-BGP STATIC-TO-BGP ];
            neighbor [% RR-SERVERS-OSPF-IPV4-ADDRESS %] {
                description "[% BGP-PEER-HOSTNAME %]";   ## add the two RR-servers;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/BGP/GROUP-V6-RR-SERVER


protocols {
	bgp {
 	   group v6-rr-server {
            type internal;
            traceoptions {
                file v6-ibgp-logs size 10m files 10;
                flag state;
            }
            local-address [% LOOPBACK60-IPV6-ADDRESS %];
            family inet6 {
                unicast;
            }
            authentication-key "[% BGP-MD5-KEY %]";
            export [ IPV6-ISIS-L1-TO-BGP V6-CONNECTED-TO-BGP V6-STATIC-TO-BGP ];
            neighbor [% RR-SERVERS-IPV6-ADDRESS %] {
                description "[% BGP-PEER-HOSTNAME %]";
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/BGP/GROUP-LU-RR-SERVER


protocols {
	bgp {
        group lu-rr-server {
			type internal;
			traceoptions {
				file ibgp-lu-logs size 10m files 10;
				flag state;
			}
			local-address [% LOOPBACK10-IPV4-ADDRESS %];
			family inet {
				labeled-unicast {
					prefix-limit {
						maximum 10000;
					}
					resolve-vpn;
				}
			}
			export [ ISIS-LOOPBACK-TO-BGP DENY-ALL ];
			authentication-key "[% BGP-MD5-KEY %]";
			neighbor [% RR-SERVERS-ISIS-IPV4-ADDRESS %] {
				description "[% BGP-PEER-HOSTNAME %]";
			}
		}
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/BGP/GROUP-VPN-RR-SERVER


protocols {
	bgp {
        group vpn-rr-server {
			type internal;
			traceoptions {
				file ibgp-vpn-logs size 10m files 10;
				flag state;
			}
			local-address [% LOOPBACK10-IPV4-ADDRESS %];
			family inet-vpn {
				unicast;
			}
			family l2vpn {
				signaling;
			}
			family inet6-vpn {
				unicast;
			}
			authentication-key "[% BGP-MD5-KEY %]";
			neighbor [% VPN-RR-SERVERS-ISIS-IPV4-ADDRESS %] {
				description "[% BGP-PEER-HOSTNAME %]";
			}
		}
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/ISIS


protocols {
    isis {
        export ISIS-EXPORT;
        lsp-lifetime 4000;
        spf-options delay 50;
        topologies ipv6-unicast;
        overload timeout 600;
        traceoptions {
            file isis-logs size 10m files 10;
            flag error;
            flag normal;
            flag state;
        }
        level 2 {
            authentication-key "[% ISIS-L2-KEY %]";
            authentication-type md5;
            wide-metrics-only;
        }
        level 1 {
            authentication-key "[% ISIS-L1-KEY %]";
            authentication-type md5;
            wide-metrics-only;
	    	preference 160;
    	    external-preference 160;
        }
        interface fxp0.0 {
            disable;
        }
        interface lo0.0 {
            passive;
			level 1 disable;
            level 2 {
				metric 1;
				ipv6-unicast-metric 1;
		    }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/OSPF


protocols {
    ospf {
        apply-groups RAN-OSPF-OPTIONS;
        spf-options {
            delay 400;
        }
        overload timeout 600;
        traceoptions {
            file ospf-logs size 10m files 10;
            flag error;
            flag normal;
            flag state;
        }
        area 0.0.0.0 {
            interface fxp0.0 {
                disable;
            }
             interface [% LOOPBACK0-IPV4-ADDRESS %] {
                apply-groups-except RAN-OSPF-OPTIONS;
                passive;
                metric 1;
            }
            interface [% LOOPBACK1-PRIMARY-IPV4-ADDRESS %] {
                apply-groups-except RAN-OSPF-OPTIONS;
                passive;
                metric 1;
            }
            interface [% LOOPBACK1-SECONDARY-IPV4-ADDRESS %] { ## optional, if exists;
                apply-groups-except RAN-OSPF-OPTIONS;
                passive;
                metric 1;
            }
            interface [% LOOPBACK99-IPV4-ADDRESS %] { ## optional, if exists;
                apply-groups-except RAN-OSPF-OPTIONS;
                passive;
                metric 1;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/LDP


protocols {
    ldp {
        apply-groups [ RAN-LDP-OPTIONS LDP-SESSION-KEY ];
        traceoptions {
            file ldp-logs size 10m files 10;
            flag error;
            flag state;
            flag notification;
        }
	    track-igp-metric;
        import LDP-IMPORT-EXPORT;
        export LDP-IMPORT-EXPORT;
        egress-policy LDP-EGRESS;
	    deaggregate;
	    transport-address router-id;
        keepalive-interval 10;
        keepalive-timeout 30;
        session-protection;
        igp-synchronization holddown-interval 60;
        targeted-hello {
            hello-interval 10;
            hold-time 90;
        }
        interface lo0.0 {
            apply-groups-except RAN-LDP-OPTIONS;
        }
        session [% TLDP-PEER-LOOPBACK10-IPV4-ADDRESS %];
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/PIM


## Zhutao notes: review if ASM is still needed
protocols {
    pim {
        traceoptions {
            file pim-logs size 10m files 10;
            flag state;
        }
        family inet6 {
			disable;
       	}
    	join-load-balance;
   }

}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/PROTOCOLS/LLDP


protocols {
    lldp {
    	advertisement-interval 30;
		hold-multiplier 4;
		port-id-subtype interface-name;
        interface all;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/ADMIN-RE-FILTER


policy-options {
   prefix-list ADMIN-RE-FILTER {
        10.0.0.0/8;
        24.40.0.0/18;
        24.40.64.0/20;
        68.85.0.0/16;
        68.86.0.0/15;
        69.139.128.0/17;
        76.96.0.0/17;
        96.108.0.0/16;
        147.191.0.0/16;
        162.151.0.0/16;
        165.137.0.0/16;
        169.152.0.0/16;
        172.16.0.0/12;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/BGP-RE-FILTER


policy-options {
    prefix-list BGP-RE-FILTER {
        apply-path "protocols bgp group <*> neighbor <*>";
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/CDN


policy-options {
    prefix-list CDN {
        68.87.64.0/20;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/CM-SPACE


policy-options {
    prefix-list CM-SPACE {
     96.96.0.0/13;
     96.104.0.0/15;
     96.120.0.0/14;
     96.124.0.0/16;
     100.64.0.0/11;
     162.148.0.0/15;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/COMCAST-INFRASTRUCTURE


policy-options {
    prefix-list COMCAST-INFRASTRUCTURE {
        10.0.0.0/8;
        24.40.0.0/18;
        24.40.64.0/20;
        67.178.0.0/15;
        68.85.0.0/16;
        68.86.0.0/15;
        69.139.128.0/17;
        69.240.0.0/15;
        69.252.0.0/16;
        76.96.0.0/16;
        96.106.0.0/15;
        96.108.0.0/16;
        96.109.0.0/16;
        96.110.0.0/16;
        96.111.0.0/16;
        96.112.0.0/15;
        96.114.0.0/15;
        96.116.0.0/14;
        98.205.0.0/16;
        98.241.0.0/16;
        147.191.0.0/16;
        162.150.0.0/15;
        165.137.0.0/16;
        169.152.0.0/16;
        172.16.0.0/12;
        192.168.0.0/16;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/DNS-RE-FILTER


policy-options {
    prefix-list DNS-RE-FILTER {
         69.252.80.80/32;
         69.252.81.81/32;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV4-LOOPBACKS


policy-options {
    prefix-list IPV4-LOOPBACKS {
        apply-path "interfaces lo0 unit 0 family inet address <*>";
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-ADMIN-RE-FILTER


policy-options {
    prefix-list IPV6-ADMIN-RE-FILTER {
        2001:558::/35;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-COMCAST-INFRASTRUCTURE


policy-options {
    prefix-list IPV6-COMCAST-INFRASTRUCTURE {
        2001:558::/35;
        2001:558:FA00::/40;
        2001:558:FC00::/39;
        2001:558:FE00::/39;
        fe80::/10;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-LOOPBACKS


policy-options {
    prefix-list IPV6-LOOPBACKS {
        apply-path "interfaces lo0 unit 0 family inet6 address <*>";
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/MULTICAST-RE-FILTER


policy-options {
    prefix-list MULTICAST-RE-FILTER {
        224.0.0.0/4;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/NTP-RE-FILTER


policy-options {
    prefix-list NTP-RE-FILTER {
        68.87.66.58/32;
        68.87.66.59/32;
        69.252.204.140/32;
        69.252.204.141/32;
        68.87.31.6/32;
        68.87.31.7/32;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/SNMP-RE-FILTER


policy-options {
    prefix-list SNMP-RE-FILTER {
     10.22.16.235/32;
     10.22.16.236/32;
     10.22.16.237/32;
     10.22.16.238/32;
     10.22.16.239/32;
     10.22.16.240/32;
     10.22.16.241/32;
     10.22.16.242/32;
     10.22.16.243/32;
     10.22.16.244/32;
     10.22.16.245/32;
     10.22.16.246/32;
     10.22.16.247/32;
     10.22.18.71/32;
     10.22.18.72/32;
     10.22.19.10/32;
     10.22.19.11/32;
     10.22.32.25/32;
     10.22.32.28/32;
     10.22.54.9/32;
     10.22.90.185/32;
     10.31.40.250/32;
     10.54.143.5/32;
     10.54.143.6/32;
     10.54.143.7/32;
     10.54.185.139/32;
     10.54.187.40/32;
     10.54.187.41/32;
     10.54.199.45/32;
     10.54.199.48/32;
     10.195.70.64/26;
     24.40.15.148/32;
     24.40.36.208/28;
     24.40.50.0/31;
     24.40.53.136/32;
     24.40.53.144/32;
     24.40.54.8/32;
     24.40.54.124/32;
     24.40.54.229/32;
     24.40.54.245/32;
     24.40.57.29/32;
     24.40.57.30/32;
     24.40.59.27/32;
     24.40.59.242/32;
     24.40.59.243/32;
     68.87.67.232/32;
     68.87.80.81/32;
     68.87.80.86/32;
     68.87.80.100/32;
     68.87.80.165/32;
     68.87.81.165/32;
     68.87.85.69/32;
     68.87.85.70/32;
     68.87.85.71/32;
     68.87.85.72/32;
     68.87.85.73/32;
     68.87.91.133/32;
     68.87.91.148/32;
     68.87.93.12/32;
     68.87.93.155/32;
     68.87.103.0/31;
     68.97.90.86/32;
     69.252.194.14/32;
     69.252.207.168/32;
     76.96.35.80/32;
     76.96.37.4/32;
     76.96.69.139/32;
     76.96.69.140/32;
     76.96.69.141/32;
     76.96.69.142/32;
     76.96.69.144/32;
     76.96.69.145/32;
     76.96.69.146/32;
     76.96.69.147/32;
     76.96.69.148/32;
     76.96.69.149/32;
     76.96.69.165/32;
     76.96.79.100/32;
     76.96.120.210/32;
     76.96.120.211/32;
     76.96.120.212/32;
     76.96.120.217/32;
     76.96.120.218/32;
     96.114.8.133/32;
     96.119.83.24/32;
     96.119.144.189/32;
     96.119.153.44/32;
     147.191.121.129/32;
     147.191.121.130/32;
     147.191.122.228/32;
     162.150.44.109/32;
     162.150.44.110/32;
     162.150.44.111/32;
     162.150.44.112/32;
     172.20.84.64/27;
     172.20.172.165/32;
     172.24.169.188/32;
     172.24.169.229/32;
     172.24.230.4/32;
     172.24.230.5/32;
     172.24.230.6/32;
     172.24.230.7/32;
     172.24.230.8/32;
     172.24.230.9/32;
     172.24.230.10/32;
     172.24.230.11/32;
     172.24.230.12/32;
     172.24.230.13/32;
     172.24.230.14/32;
     172.24.230.15/32;
     172.24.230.16/32;
     172.24.230.17/32;
     172.24.230.18/32;
     172.24.230.19/32;
     172.24.230.20/32;
     172.24.230.29/32;
     172.24.230.30/32;
     172.24.230.31/32;
     172.24.230.32/32;
     172.24.230.33/32;
     172.24.230.34/32;
     172.24.230.35/32;
     172.24.230.36/32;
     172.24.230.37/32;
     172.24.230.38/32;
     172.24.230.39/32;
     172.24.230.40/32;
     172.24.230.41/32;
     172.24.230.42/32;
     172.24.230.43/32;
     172.24.230.44/32;
     172.24.230.45/32;
     172.24.230.46/32;
     172.24.230.47/32;
     172.24.230.48/32;
     172.24.230.49/32;
     172.24.230.50/32;
     172.24.230.51/32;
     172.24.230.52/32;
     172.24.230.53/32;
     172.24.230.54/32;
     172.24.230.55/32;
     172.24.230.56/32;
     172.24.230.57/32;
     172.24.230.58/32;
     172.24.235.58/32;
     172.24.235.59/32;
     172.24.246.132/32;
     172.27.16.142/32;
     172.27.16.143/32;
     172.27.155.245/32;
     172.27.155.247/32;
     172.27.155.248/32;
     172.27.185.5/32;
     172.27.185.6/32;
     172.27.185.7/32;
     172.27.185.8/32;
     172.27.185.9/32;
     172.27.185.10/32;
     172.27.185.11/32;
     172.27.185.12/32;
     172.27.185.13/32;
     172.27.185.14/32;
     172.27.185.15/32;
     172.27.185.16/32;
     172.27.185.17/32;
     172.27.185.18/32;
     172.27.185.19/32;
     172.28.64.35/32;
     172.28.64.90/32;
     172.28.64.91/32;
     172.28.64.92/32;
     172.28.64.93/32;
     172.28.64.184/32;
     172.28.64.185/32;
     172.28.64.186/32;
     172.28.64.187/32;
     172.28.64.194/32;
     172.28.64.195/32;
     172.28.64.196/32;
     172.28.64.197/32;
     172.28.64.198/32;
     172.28.64.199/32;
     172.28.64.201/32;
     172.28.64.202/32;
     172.28.64.203/32;
     172.28.64.207/32;
     172.28.64.208/32;
     172.28.64.209/32;
     172.28.64.210/32;
     172.28.64.211/32;
     172.28.64.212/32;
     172.28.64.213/32;
     172.28.64.215/32;
     172.28.64.216/32;
     172.28.64.225/32;
     172.28.64.226/32;
     172.28.64.227/32;
     172.28.64.228/32;
     172.28.64.229/32;
     172.28.64.230/32;
     172.28.65.20/32;
     172.28.65.221/32;
     172.28.65.222/32;
     172.28.65.223/32;
     172.28.66.41/32;
     172.28.74.188/32;
     172.28.75.75/32;
     172.28.75.76/32;
     172.28.96.74/32;
     172.28.96.75/32;
     172.28.96.76/32;
     172.28.96.77/32;
     172.28.96.116/32;
     172.28.96.117/32;
     172.28.96.118/32;
     172.28.96.154/32;
     172.28.96.155/32;
     172.28.96.156/32;
     172.28.96.157/32;
     172.28.96.244/32;
     172.28.96.245/32;
     172.28.96.246/32;
     172.28.96.247/32;
     172.28.98.16/32;
     172.28.99.88/32;
     172.28.99.89/32;
     172.28.99.90/32;
     172.28.111.229/32;
     172.28.111.238/32;
     172.28.111.246/32;
     172.28.111.252/32;
     172.28.119.80/32;
     172.28.119.81/32;
     172.28.119.82/32;
     172.28.119.83/32;
     172.28.119.84/32;
     172.28.119.85/32;
     172.28.119.86/32;
     172.28.119.87/32;
     172.28.119.88/32;
     172.28.119.89/32;
     172.28.119.90/32;
     172.28.119.91/32;
     172.28.132.16/32;
     172.28.132.107/32;
     172.28.132.128/25;
     172.28.132.132/32;
     172.28.132.133/32;
     172.28.132.134/32;
     172.28.132.135/32;
     172.28.132.136/32;
     172.28.132.137/32;
     172.28.132.138/32;
     172.28.132.139/32;
     172.28.132.140/32;
     172.28.132.141/32;
     172.28.142.30/32;
     172.28.142.31/32;
     172.28.142.32/32;
     172.28.142.34/32;
     172.28.142.35/32;
     172.28.142.36/32;
     172.28.142.37/32;
     172.28.142.43/32;
     172.28.142.44/32;
     172.28.142.45/32;
     172.28.142.46/32;
     172.28.142.51/32;
     172.28.142.52/32;
     172.28.142.53/32;
     172.28.142.54/32;
     172.28.142.55/32;
     172.28.142.56/32;
     172.28.142.57/32;
     172.28.142.58/32;
     172.28.142.59/32;
     172.28.142.60/32;
     172.28.142.61/32;
     172.28.142.62/32;
     172.28.142.63/32;
     172.28.142.67/32;
     172.28.142.68/32;
     172.28.142.69/32;
     172.28.142.70/32;
     172.28.142.71/32;
     172.28.142.72/32;
     172.28.142.73/32;
     172.28.142.74/32;
     172.28.142.75/32;
     172.28.142.76/32;
     172.28.142.78/32;
     172.28.142.79/32;
     172.28.142.82/32;
     172.28.142.83/32;
     172.28.142.84/32;
     172.28.142.85/32;
     172.28.142.86/32;
     172.28.142.87/32;
     172.28.142.88/32;
     172.28.143.167/32;
     172.28.143.168/32;
     172.28.143.169/32;
     172.28.143.170/32;
     172.28.143.171/32;
     172.28.143.172/32;
     172.28.143.173/32;
     172.28.160.128/27;
     172.28.160.169/32;
     172.28.161.98/32;
     172.28.161.213/32;
     172.28.161.214/32;
     172.28.162.0/25;
     172.28.169.153/32;
     172.28.169.165/32;
     172.28.169.166/32;
     172.28.169.188/32;
     172.28.169.229/32;
     172.28.169.234/32;
     172.28.169.235/32;
     172.28.169.236/32;
     172.28.169.243/32;
     172.28.173.100/32;
     172.28.179.155/32;
     172.28.179.156/32;
     172.28.184.6/32;
     172.28.184.9/32;
     172.28.189.64/27;
     172.28.232.16/32;
     172.28.252.84/32;
     172.28.252.87/32;
     172.30.0.0/19;
     172.30.0.128/28;
     172.30.0.144/28;
     172.30.113.192/30;
     172.30.113.207/32;
     172.30.113.208/32;
     172.30.113.209/32;
     172.30.113.210/32;
     172.30.113.211/32;
     172.30.113.212/32;
     172.30.113.226/32;
     172.30.113.227/32;
     172.30.128.68/32;
     172.30.128.69/32;
     172.30.128.70/32;
     172.30.128.71/32;
     172.30.128.72/32;
     172.30.128.74/32;
     172.30.128.75/32;
     172.30.128.76/32;
     172.30.128.77/32;
     172.30.128.78/32;
     172.30.128.79/32;
     172.30.128.96/29;
     172.30.184.64/27;
     2001:558:1002:402:172:24:230:20/128;
     2001:558:1002:600:76:96:69:139/128;
     2001:558:1002:600:76:96:69:140/128;
     2001:558:1002:600:76:96:69:141/128;
     2001:558:1002:600:76:96:69:142/128;
     2001:558:1002:402:172:24:230:33/128;
     2001:558:1002:402:172:24:230:35/128;
     2001:558:1002:402:172:24:230:36/128;
     2001:558:1002:402:172:24:230:37/128;
     2001:558:1002:402:172:24:230:38/128;
     2001:558:1002:402:172:24:230:39/128;
     2001:558:1002:402:172:24:230:40/128;
     2001:558:1002:402:172:24:230:41/128;
     2001:558:1002:402:172:24:230:42/128;
     2001:558:1002:402:172:24:230:43/128;
     2001:558:1002:402:172:24:230:44/128;
     2001:558:1002:402:172:24:230:45/128;
     2001:558:1002:402:172:24:230:46/128;
     2001:558:1002:402:172:24:230:47/128;
     2001:558:1002:402:172:24:230:48/128;
     2001:558:1002:402:172:24:230:49/128;
     2001:558:1002:402:172:24:230:50/128;
     2001:558:1002:402:172:24:230:51/128;
     2001:558:1002:402:172:24:230:52/128;
     2001:558:1002:402:172:24:230:53/128;
     2001:558:1002:402:172:24:230:54/128;
     2001:558:1002:402:172:24:230:55/128;
     2001:558:1002:402:172:24:230:56/128;
     2001:558:1002:402:172:24:230:57/128;
     2001:558:1002:402:172:24:230:58/128;
     2001:558:1002:402:172:24:230:4/128;
     2001:558:1002:402:172:24:230:5/128;
     2001:558:1002:402:172:24:230:6/128;
     2001:558:1002:402:172:24:230:7/128;
     2001:558:1002:402:172:24:230:8/128;
     2001:558:1002:402:172:24:230:9/128;
     2001:558:1402:7:172:24:230:10/128;
     2001:558:1002:402:172:24:230:11/128;
     2001:558:1002:402:172:24:230:12/128;
     2001:558:1002:402:172:24:230:13/128;
     2001:558:1002:402:172:24:230:14/128;
     2001:558:1002:402:172:24:230:15/128;
     2001:558:1002:402:172:24:230:16/128;
     2001:558:1002:402:172:24:230:17/128;
     2001:558:1002:402:172:24:230:18/128;
     2001:558:1002:402:172:24:230:19/128;
     2001:558:101d:1a:172:28:162:4/128;
     2001:558:101d:1a:172:28:162:5/128;
     2001:558:101d:1a:172:28:162:6/128;
     2001:558:101d:1a:172:28:162:7/128;
     2001:558:101d:1a:172:28:162:8/128;
     2001:558:101d:1a:172:28:162:9/128;
     2001:558:101d:1a:172:28:162:10/128;
     2001:558:101d:1a:172:28:162:11/128;
     2001:558:101d:1a:172:28:162:12/128;
     2001:558:101d:1a:172:28:162:22/128;
     2001:558:101d:1a:172:28:162:20/128;
     2001:558:101d:3:172:28:132:136/128;
     2001:558:101d:3:172:28:132:137/128;
     2001:558:101d:3:172:28:132:138/128;
     2001:558:101d:3:172:28:132:139/128;
     2001:558:101d:3:172:28:132:132/128;
     2001:558:101d:3:172:28:132:133/128;
     2001:558:101d:3:172:28:132:134/128;
     2001:558:101d:3:172:28:132:135/128;
     2001:558:101d:3:172:28:132:140/128;
     2001:558:101d:3:172:28:132:141/128;
     2001:558:101d:3:172:28:132:142/128;
     2001:558:101d:3:172:28:132:143/128;
     2001:558:101d:1a:172:28:162:13/128;
     2001:558:101d:1a:172:28:162:14/128;
     2001:558:101d:1a:172:28:162:15/128;
     2001:558:101d:1a:172:28:162:16/128;
     2001:558:101d:1a:172:28:162:17/128;
     2001:558:101d:1a:172:28:162:18/128;
     2001:558:101d:1a:172:28:162:19/128;
     2001:558:101d:1a:172:28:162:21/128;
     2001:558:1002:109:172:28:64:203/128;
     2001:558:101d:5:172:28:142:63/128;
     2001:558:1002:109:172:28:64:207/128;
     2001:558:101d:5:172:28:142:67/128;
     2001:558:1002:109:172:28:64:208/128;
     2001:558:101d:5:172:28:142:68/128;
     2001:558:1002:109:172:28:64:209/128;
     2001:558:101d:5:172:28:142:69/128;
     2001:558:1002:109:172:28:66:41/128;
     2001:558:1004:e:172:28:99:88/128;
     2001:558:101d:5:172:28:142:70/128;
     2001:558:1004:e:172:28:99:89/128;
     2001:558:101d:5:172:28:142:71/128;
     2001:558:1004:e:172:28:99:90/128;
     2001:558:101d:5:172:28:142:72/128;
     2001:558:1404:9:24:40:53:136/128;
     2001:558:1406:1:147:191:121:129/128;
     2001:558:1406:1:147:191:121:130/128;
     2001:558:1404:9:24:40:53:144/128;
     2001:558:1002:109:172:28:64:90/128;
     2001:558:101d:5:172:28:142:30/128;
     2001:558:1002:109:172:28:64:91/128;
     2001:558:101d:5:172:28:142:31/128;
     2001:558:1002:109:172:28:64:92/128;
     2001:558:101d:5:172:28:142:32/128;
     2001:558:1002:109:172:28:64:215/128;
     2001:558:101d:5:172:28:142:78/128;
     2001:558:1002:109:172:28:65:223/128;
     2001:558:101d:5:172:28:143:169/128;
     2001:558:1002:109:172:28:75:76/128;
     2001:558:101d:66:172:27:155:245/128;
     2001:558:1002:109:172:28:64:93/128;
     2001:558:101d:5:172:28:142:33/128;
     2001:558:1002:109:172:28:64:225/128;
     2001:558:101d:5:172:28:142:82/128;
     2001:558:1002:109:172:28:64:226/128;
     2001:558:101d:5:172:28:142:83/128;
     2001:558:1002:109:172:28:64:198/128;
     2001:558:101d:5:172:28:142:45/128;
     2001:558:1002:109:172:28:64:199/128;
     2001:558:101d:5:172:28:142:46/128;
     2001:558:1002:109:172:28:64:184/128;
     2001:558:101d:5:172:28:142:51/128;
     2001:558:1002:109:172:28:64:228/128;
     2001:558:101d:5:172:28:142:85/128;
     2001:558:1002:9:172:24:235:58/128;
     2001:558:101d:2a:172:28:179:155/128;
     2001:558:1002:109:172:28:64:196/128;
     2001:558:101d:5:172:28:142:43/128;
     2001:558:1002:109:172:28:64:197/128;
     2001:558:101d:5:172:28:142:44/128;
     2001:558:1002:109:172:28:64:227/128;
     2001:558:101d:5:172:28:142:84/128;
     2001:558:1002:109:172:28:65:222/128;
     2001:558:101d:5:172:28:143:168/128;
     2001:558:1002:109:172:28:64:185/128;
     2001:558:101d:5:172:28:142:52/128;
     2001:558:1002:109:172:28:64:186/128;
     2001:558:101d:5:172:28:142:53/128;
     2001:558:1002:109:172:28:64:229/128;
     2001:558:101d:5:172:28:142:86/128;
     2001:558:1002:109:172:28:65:20/128;
     2001:558:101d:5:172:28:142:88/128;
     2001:558:1002:109:172:28:64:201/128;
     2001:558:101d:5:172:28:142:57/128;
     2001:558:1002:109:172:28:64:202/128;
     2001:558:101d:5:172:28:142:58/128;
     2001:558:1002:109:172:28:65:221/128;
     2001:558:101d:5:172:28:143:167/128;
     2001:558:1002:109:172:28:65:221/128;
     2001:558:101d:5:172:28:143:167/128;
     2001:558:1002:109:172:28:64:187/128;
     2001:558:101d:5:172:28:142:54/128;
     2001:558:1002:109:172:28:64:194/128;
     2001:558:101d:5:172:28:142:55/128;
     2001:558:1002:109:172:28:64:195/128;
     2001:558:101d:5:172:28:142:56/128;
     2001:558:1002:109:172:28:64:230/128;
     2001:558:101d:5:172:28:142:87/128;
     2001:558:1002:9:172:24:235:59/128;
     2001:558:101d:2a:172:28:179:156/128;
     2001:558:1004:e:172:28:96:74/128;
     2001:558:101d:5:172:28:142:34/128;
     2001:558:1004:e:172:28:96:75/128;
     2001:558:101d:5:172:28:142:35/128;
     2001:558:1004:e:172:28:96:244/128;
     2001:558:101d:5:172:28:143:170/128;
     2001:558:1004:210:10:54:187:40/128;
     2001:558:101d:66:172:27:155:247/128;
     2001:558:1004:e:172:28:96:154/128;
     2001:558:101d:5:172:28:142:59/128;
     2001:558:1004:e:172:28:96:245/128;
     2001:558:101d:5:172:28:143:171/128;
     2001:558:1004:e:172:28:96:76/128;
     2001:558:101d:5:172:28:142:36/128;
     2001:558:1004:e:172:28:96:77/128;
     2001:558:101d:5:172:28:142:37/128;
     2001:558:1004:e:172:28:96:246/128;
     2001:558:101d:5:172:28:143:172/128;
     2001:558:1004:e:172:28:96:155/128;
     2001:558:101d:5:172:28:142:60/128;
     2001:558:1004:e:172:28:96:156/128;
     2001:558:101d:5:172:28:142:61/128;
     2001:558:1004:e:172:28:96:157/128;
     2001:558:101d:5:172:28:142:62/128;
     2001:558:1004:e:172:28:96:247/128;
     2001:558:101d:5:172:28:143:173/128;
     2001:558:1004:210:10:54:187:41/128;
     2001:558:101d:66:172:27:155:248/128;
     2001:558:1002:109:172:28:64:210/128;
     2001:558:101d:5:172:28:142:73/128;
     2001:558:1002:109:172:28:64:211/128;
     2001:558:101d:5:172:28:142:74/128;
     2001:558:1002:109:172:28:64:212/128;
     2001:558:101d:5:172:28:142:75/128;
     2001:558:1002:109:172:28:64:213/128;
     2001:558:101d:5:172:28:142:76/128;
     2001:558:1002:109:172:28:64:216/128;
     2001:558:101d:5:172:28:142:79/128;
     2001:558:101d:66:172:27:152:249/128;
     2001:558:101d:57:10:22:89:192/128;
     2001:558:101d:57:10:22:89:193/128;
     2001:558:1004:644:10:22:18:71/128;
     2001:558:1004:644:10:22:18:72/128;
     2001:558:1004:646:10:22:19:10/128;
     2001:558:1004:646:10:22:19:11/128;
     2001:558:1004:f:250:56ff:febe:ea89/128;
     2001:558:fe14:f:76:96:79:100/128;
     2001:558:fe16:105:76:96:37:4/128;
     2001:558:fe16:d:162:150:44:109/128;
     2001:558:fe16:d:162:150:44:110/128;
     2001:558:fe16:d:162:150:44:111/128;
     2001:558:fe16:d:162:150:44:112/128;
     2001:558:1004:302:76:96:35:80/128;
     2001:558:1002:109:172:28:75:75/128;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV4-SNMP-RE-FILTER


policy-options {
    prefix-list IPV4-SNMP-RE-FILTER {
     10.22.16.235/32;
     10.22.16.236/32;
     10.22.16.237/32;
     10.22.16.238/32;
     10.22.16.239/32;
     10.22.16.240/32;
     10.22.16.241/32;
     10.22.16.242/32;
     10.22.16.243/32;
     10.22.16.244/32;
     10.22.16.245/32;
     10.22.16.246/32;
     10.22.16.247/32;
     10.22.18.71/32;
     10.22.18.72/32;
     10.22.19.10/32;
     10.22.19.11/32;
     10.22.32.25/32;
     10.22.32.28/32;
     10.22.54.9/32;
     10.22.90.185/32;
     10.31.40.250/32;
     10.54.143.5/32;
     10.54.143.6/32;
     10.54.143.7/32;
     10.54.185.139/32;
     10.54.187.40/32;
     10.54.187.41/32;
     10.54.199.45/32;
     10.54.199.48/32;
     10.195.70.64/26;
     24.40.15.148/32;
     24.40.36.208/28;
     24.40.50.0/31;
     24.40.53.136/32;
     24.40.53.144/32;
     24.40.54.8/32;
     24.40.54.124/32;
     24.40.54.229/32;
     24.40.54.245/32;
     24.40.57.29/32;
     24.40.57.30/32;
     24.40.59.27/32;
     24.40.59.242/32;
     24.40.59.243/32;
     68.87.67.232/32;
     68.87.80.81/32;
     68.87.80.86/32;
     68.87.80.100/32;
     68.87.80.165/32;
     68.87.81.165/32;
     68.87.85.69/32;
     68.87.85.70/32;
     68.87.85.71/32;
     68.87.85.72/32;
     68.87.85.73/32;
     68.87.91.133/32;
     68.87.91.148/32;
     68.87.93.12/32;
     68.87.93.155/32;
     68.87.103.0/31;
     68.97.90.86/32;
     69.252.194.14/32;
     69.252.207.168/32;
     76.96.35.80/32;
     76.96.37.4/32;
     76.96.69.139/32;
     76.96.69.140/32;
     76.96.69.141/32;
     76.96.69.142/32;
     76.96.69.144/32;
     76.96.69.145/32;
     76.96.69.146/32;
     76.96.69.147/32;
     76.96.69.148/32;
     76.96.69.149/32;
     76.96.69.165/32;
     76.96.79.100/32;
     76.96.120.210/32;
     76.96.120.211/32;
     76.96.120.212/32;
     76.96.120.217/32;
     76.96.120.218/32;
     96.114.8.133/32;
     96.119.83.24/32;
     96.119.144.189/32;
     96.119.153.44/32;
     147.191.121.129/32;
     147.191.121.130/32;
     147.191.122.228/32;
     162.150.44.109/32;
     162.150.44.110/32;
     162.150.44.111/32;
     162.150.44.112/32;
     172.20.84.64/27;
     172.20.172.165/32;
     172.24.169.188/32;
     172.24.169.229/32;
     172.24.230.4/32;
     172.24.230.5/32;
     172.24.230.6/32;
     172.24.230.7/32;
     172.24.230.8/32;
     172.24.230.9/32;
     172.24.230.10/32;
     172.24.230.11/32;
     172.24.230.12/32;
     172.24.230.13/32;
     172.24.230.14/32;
     172.24.230.15/32;
     172.24.230.16/32;
     172.24.230.17/32;
     172.24.230.18/32;
     172.24.230.19/32;
     172.24.230.20/32;
     172.24.230.29/32;
     172.24.230.30/32;
     172.24.230.31/32;
     172.24.230.32/32;
     172.24.230.33/32;
     172.24.230.34/32;
     172.24.230.35/32;
     172.24.230.36/32;
     172.24.230.37/32;
     172.24.230.38/32;
     172.24.230.39/32;
     172.24.230.40/32;
     172.24.230.41/32;
     172.24.230.42/32;
     172.24.230.43/32;
     172.24.230.44/32;
     172.24.230.45/32;
     172.24.230.46/32;
     172.24.230.47/32;
     172.24.230.48/32;
     172.24.230.49/32;
     172.24.230.50/32;
     172.24.230.51/32;
     172.24.230.52/32;
     172.24.230.53/32;
     172.24.230.54/32;
     172.24.230.55/32;
     172.24.230.56/32;
     172.24.230.57/32;
     172.24.230.58/32;
     172.24.235.58/32;
     172.24.235.59/32;
     172.24.246.132/32;
     172.27.16.142/32;
     172.27.16.143/32;
     172.27.155.245/32;
     172.27.155.247/32;
     172.27.155.248/32;
     172.27.185.5/32;
     172.27.185.6/32;
     172.27.185.7/32;
     172.27.185.8/32;
     172.27.185.9/32;
     172.27.185.10/32;
     172.27.185.11/32;
     172.27.185.12/32;
     172.27.185.13/32;
     172.27.185.14/32;
     172.27.185.15/32;
     172.27.185.16/32;
     172.27.185.17/32;
     172.27.185.18/32;
     172.27.185.19/32;
     172.28.64.35/32;
     172.28.64.90/32;
     172.28.64.91/32;
     172.28.64.92/32;
     172.28.64.93/32;
     172.28.64.184/32;
     172.28.64.185/32;
     172.28.64.186/32;
     172.28.64.187/32;
     172.28.64.194/32;
     172.28.64.195/32;
     172.28.64.196/32;
     172.28.64.197/32;
     172.28.64.198/32;
     172.28.64.199/32;
     172.28.64.201/32;
     172.28.64.202/32;
     172.28.64.203/32;
     172.28.64.207/32;
     172.28.64.208/32;
     172.28.64.209/32;
     172.28.64.210/32;
     172.28.64.211/32;
     172.28.64.212/32;
     172.28.64.213/32;
     172.28.64.215/32;
     172.28.64.216/32;
     172.28.64.225/32;
     172.28.64.226/32;
     172.28.64.227/32;
     172.28.64.228/32;
     172.28.64.229/32;
     172.28.64.230/32;
     172.28.65.20/32;
     172.28.65.221/32;
     172.28.65.222/32;
     172.28.65.223/32;
     172.28.66.41/32;
     172.28.74.188/32;
     172.28.75.75/32;
     172.28.75.76/32;
     172.28.96.74/32;
     172.28.96.75/32;
     172.28.96.76/32;
     172.28.96.77/32;
     172.28.96.116/32;
     172.28.96.117/32;
     172.28.96.118/32;
     172.28.96.154/32;
     172.28.96.155/32;
     172.28.96.156/32;
     172.28.96.157/32;
     172.28.96.244/32;
     172.28.96.245/32;
     172.28.96.246/32;
     172.28.96.247/32;
     172.28.98.16/32;
     172.28.99.88/32;
     172.28.99.89/32;
     172.28.99.90/32;
     172.28.111.229/32;
     172.28.111.238/32;
     172.28.111.246/32;
     172.28.111.252/32;
     172.28.119.80/32;
     172.28.119.81/32;
     172.28.119.82/32;
     172.28.119.83/32;
     172.28.119.84/32;
     172.28.119.85/32;
     172.28.119.86/32;
     172.28.119.87/32;
     172.28.119.88/32;
     172.28.119.89/32;
     172.28.119.90/32;
     172.28.119.91/32;
     172.28.132.16/32;
     172.28.132.107/32;
     172.28.132.128/25;
     172.28.132.132/32;
     172.28.132.133/32;
     172.28.132.134/32;
     172.28.132.135/32;
     172.28.132.136/32;
     172.28.132.137/32;
     172.28.132.138/32;
     172.28.132.139/32;
     172.28.132.140/32;
     172.28.132.141/32;
     172.28.142.30/32;
     172.28.142.31/32;
     172.28.142.32/32;
     172.28.142.34/32;
     172.28.142.35/32;
     172.28.142.36/32;
     172.28.142.37/32;
     172.28.142.43/32;
     172.28.142.44/32;
     172.28.142.45/32;
     172.28.142.46/32;
     172.28.142.51/32;
     172.28.142.52/32;
     172.28.142.53/32;
     172.28.142.54/32;
     172.28.142.55/32;
     172.28.142.56/32;
     172.28.142.57/32;
     172.28.142.58/32;
     172.28.142.59/32;
     172.28.142.60/32;
     172.28.142.61/32;
     172.28.142.62/32;
     172.28.142.63/32;
     172.28.142.67/32;
     172.28.142.68/32;
     172.28.142.69/32;
     172.28.142.70/32;
     172.28.142.71/32;
     172.28.142.72/32;
     172.28.142.73/32;
     172.28.142.74/32;
     172.28.142.75/32;
     172.28.142.76/32;
     172.28.142.78/32;
     172.28.142.79/32;
     172.28.142.82/32;
     172.28.142.83/32;
     172.28.142.84/32;
     172.28.142.85/32;
     172.28.142.86/32;
     172.28.142.87/32;
     172.28.142.88/32;
     172.28.143.167/32;
     172.28.143.168/32;
     172.28.143.169/32;
     172.28.143.170/32;
     172.28.143.171/32;
     172.28.143.172/32;
     172.28.143.173/32;
     172.28.160.128/27;
     172.28.160.169/32;
     172.28.161.98/32;
     172.28.161.213/32;
     172.28.161.214/32;
     172.28.162.0/25;
     172.28.169.153/32;
     172.28.169.165/32;
     172.28.169.166/32;
     172.28.169.188/32;
     172.28.169.229/32;
     172.28.169.234/32;
     172.28.169.235/32;
     172.28.169.236/32;
     172.28.169.243/32;
     172.28.173.100/32;
     172.28.179.155/32;
     172.28.179.156/32;
     172.28.184.6/32;
     172.28.184.9/32;
     172.28.189.64/27;
     172.28.232.16/32;
     172.28.252.84/32;
     172.28.252.87/32;
     172.30.0.0/19;
     172.30.0.128/28;
     172.30.0.144/28;
     172.30.113.192/30;
     172.30.113.207/32;
     172.30.113.208/32;
     172.30.113.209/32;
     172.30.113.210/32;
     172.30.113.211/32;
     172.30.113.212/32;
     172.30.113.226/32;
     172.30.113.227/32;
     172.30.128.68/32;
     172.30.128.69/32;
     172.30.128.70/32;
     172.30.128.71/32;
     172.30.128.72/32;
     172.30.128.74/32;
     172.30.128.75/32;
     172.30.128.76/32;
     172.30.128.77/32;
     172.30.128.78/32;
     172.30.128.79/32;
     172.30.128.96/29;
     172.30.184.64/27;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-SNMP-RE-FILTER


policy-options {
    prefix-list IPV6-SNMP-RE-FILTER {
     2001:558:1002:402:172:24:230:20/128;
     2001:558:1002:600:76:96:69:139/128;
     2001:558:1002:600:76:96:69:140/128;
     2001:558:1002:600:76:96:69:141/128;
     2001:558:1002:600:76:96:69:142/128;
     2001:558:1002:402:172:24:230:33/128;
     2001:558:1002:402:172:24:230:35/128;
     2001:558:1002:402:172:24:230:36/128;
     2001:558:1002:402:172:24:230:37/128;
     2001:558:1002:402:172:24:230:38/128;
     2001:558:1002:402:172:24:230:39/128;
     2001:558:1002:402:172:24:230:40/128;
     2001:558:1002:402:172:24:230:41/128;
     2001:558:1002:402:172:24:230:42/128;
     2001:558:1002:402:172:24:230:43/128;
     2001:558:1002:402:172:24:230:44/128;
     2001:558:1002:402:172:24:230:45/128;
     2001:558:1002:402:172:24:230:46/128;
     2001:558:1002:402:172:24:230:47/128;
     2001:558:1002:402:172:24:230:48/128;
     2001:558:1002:402:172:24:230:49/128;
     2001:558:1002:402:172:24:230:50/128;
     2001:558:1002:402:172:24:230:51/128;
     2001:558:1002:402:172:24:230:52/128;
     2001:558:1002:402:172:24:230:53/128;
     2001:558:1002:402:172:24:230:54/128;
     2001:558:1002:402:172:24:230:55/128;
     2001:558:1002:402:172:24:230:56/128;
     2001:558:1002:402:172:24:230:57/128;
     2001:558:1002:402:172:24:230:58/128;
     2001:558:1002:402:172:24:230:4/128;
     2001:558:1002:402:172:24:230:5/128;
     2001:558:1002:402:172:24:230:6/128;
     2001:558:1002:402:172:24:230:7/128;
     2001:558:1002:402:172:24:230:8/128;
     2001:558:1002:402:172:24:230:9/128;
     2001:558:1402:7:172:24:230:10/128;
     2001:558:1002:402:172:24:230:11/128;
     2001:558:1002:402:172:24:230:12/128;
     2001:558:1002:402:172:24:230:13/128;
     2001:558:1002:402:172:24:230:14/128;
     2001:558:1002:402:172:24:230:15/128;
     2001:558:1002:402:172:24:230:16/128;
     2001:558:1002:402:172:24:230:17/128;
     2001:558:1002:402:172:24:230:18/128;
     2001:558:1002:402:172:24:230:19/128;
     2001:558:101d:1a:172:28:162:4/128;
     2001:558:101d:1a:172:28:162:5/128;
     2001:558:101d:1a:172:28:162:6/128;
     2001:558:101d:1a:172:28:162:7/128;
     2001:558:101d:1a:172:28:162:8/128;
     2001:558:101d:1a:172:28:162:9/128;
     2001:558:101d:1a:172:28:162:10/128;
     2001:558:101d:1a:172:28:162:11/128;
     2001:558:101d:1a:172:28:162:12/128;
     2001:558:101d:1a:172:28:162:22/128;
     2001:558:101d:1a:172:28:162:20/128;
     2001:558:101d:3:172:28:132:136/128;
     2001:558:101d:3:172:28:132:137/128;
     2001:558:101d:3:172:28:132:138/128;
     2001:558:101d:3:172:28:132:139/128;
     2001:558:101d:3:172:28:132:132/128;
     2001:558:101d:3:172:28:132:133/128;
     2001:558:101d:3:172:28:132:134/128;
     2001:558:101d:3:172:28:132:135/128;
     2001:558:101d:3:172:28:132:140/128;
     2001:558:101d:3:172:28:132:141/128;
     2001:558:101d:3:172:28:132:142/128;
     2001:558:101d:3:172:28:132:143/128;
     2001:558:101d:1a:172:28:162:13/128;
     2001:558:101d:1a:172:28:162:14/128;
     2001:558:101d:1a:172:28:162:15/128;
     2001:558:101d:1a:172:28:162:16/128;
     2001:558:101d:1a:172:28:162:17/128;
     2001:558:101d:1a:172:28:162:18/128;
     2001:558:101d:1a:172:28:162:19/128;
     2001:558:101d:1a:172:28:162:21/128;
     2001:558:1002:109:172:28:64:203/128;
     2001:558:101d:5:172:28:142:63/128;
     2001:558:1002:109:172:28:64:207/128;
     2001:558:101d:5:172:28:142:67/128;
     2001:558:1002:109:172:28:64:208/128;
     2001:558:101d:5:172:28:142:68/128;
     2001:558:1002:109:172:28:64:209/128;
     2001:558:101d:5:172:28:142:69/128;
     2001:558:1002:109:172:28:66:41/128;
     2001:558:1004:e:172:28:99:88/128;
     2001:558:101d:5:172:28:142:70/128;
     2001:558:1004:e:172:28:99:89/128;
     2001:558:101d:5:172:28:142:71/128;
     2001:558:1004:e:172:28:99:90/128;
     2001:558:101d:5:172:28:142:72/128;
     2001:558:1404:9:24:40:53:136/128;
     2001:558:1406:1:147:191:121:129/128;
     2001:558:1406:1:147:191:121:130/128;
     2001:558:1404:9:24:40:53:144/128;
     2001:558:1002:109:172:28:64:90/128;
     2001:558:101d:5:172:28:142:30/128;
     2001:558:1002:109:172:28:64:91/128;
     2001:558:101d:5:172:28:142:31/128;
     2001:558:1002:109:172:28:64:92/128;
     2001:558:101d:5:172:28:142:32/128;
     2001:558:1002:109:172:28:64:215/128;
     2001:558:101d:5:172:28:142:78/128;
     2001:558:1002:109:172:28:65:223/128;
     2001:558:101d:5:172:28:143:169/128;
     2001:558:1002:109:172:28:75:76/128;
     2001:558:101d:66:172:27:155:245/128;
     2001:558:1002:109:172:28:64:93/128;
     2001:558:101d:5:172:28:142:33/128;
     2001:558:1002:109:172:28:64:225/128;
     2001:558:101d:5:172:28:142:82/128;
     2001:558:1002:109:172:28:64:226/128;
     2001:558:101d:5:172:28:142:83/128;
     2001:558:1002:109:172:28:64:198/128;
     2001:558:101d:5:172:28:142:45/128;
     2001:558:1002:109:172:28:64:199/128;
     2001:558:101d:5:172:28:142:46/128;
     2001:558:1002:109:172:28:64:184/128;
     2001:558:101d:5:172:28:142:51/128;
     2001:558:1002:109:172:28:64:228/128;
     2001:558:101d:5:172:28:142:85/128;
     2001:558:1002:9:172:24:235:58/128;
     2001:558:101d:2a:172:28:179:155/128;
     2001:558:1002:109:172:28:64:196/128;
     2001:558:101d:5:172:28:142:43/128;
     2001:558:1002:109:172:28:64:197/128;
     2001:558:101d:5:172:28:142:44/128;
     2001:558:1002:109:172:28:64:227/128;
     2001:558:101d:5:172:28:142:84/128;
     2001:558:1002:109:172:28:65:222/128;
     2001:558:101d:5:172:28:143:168/128;
     2001:558:1002:109:172:28:64:185/128;
     2001:558:101d:5:172:28:142:52/128;
     2001:558:1002:109:172:28:64:186/128;
     2001:558:101d:5:172:28:142:53/128;
     2001:558:1002:109:172:28:64:229/128;
     2001:558:101d:5:172:28:142:86/128;
     2001:558:1002:109:172:28:65:20/128;
     2001:558:101d:5:172:28:142:88/128;
     2001:558:1002:109:172:28:64:201/128;
     2001:558:101d:5:172:28:142:57/128;
     2001:558:1002:109:172:28:64:202/128;
     2001:558:101d:5:172:28:142:58/128;
     2001:558:1002:109:172:28:65:221/128;
     2001:558:101d:5:172:28:143:167/128;
     2001:558:1002:109:172:28:65:221/128;
     2001:558:101d:5:172:28:143:167/128;
     2001:558:1002:109:172:28:64:187/128;
     2001:558:101d:5:172:28:142:54/128;
     2001:558:1002:109:172:28:64:194/128;
     2001:558:101d:5:172:28:142:55/128;
     2001:558:1002:109:172:28:64:195/128;
     2001:558:101d:5:172:28:142:56/128;
     2001:558:1002:109:172:28:64:230/128;
     2001:558:101d:5:172:28:142:87/128;
     2001:558:1002:9:172:24:235:59/128;
     2001:558:101d:2a:172:28:179:156/128;
     2001:558:1004:e:172:28:96:74/128;
     2001:558:101d:5:172:28:142:34/128;
     2001:558:1004:e:172:28:96:75/128;
     2001:558:101d:5:172:28:142:35/128;
     2001:558:1004:e:172:28:96:244/128;
     2001:558:101d:5:172:28:143:170/128;
     2001:558:1004:210:10:54:187:40/128;
     2001:558:101d:66:172:27:155:247/128;
     2001:558:1004:e:172:28:96:154/128;
     2001:558:101d:5:172:28:142:59/128;
     2001:558:1004:e:172:28:96:245/128;
     2001:558:101d:5:172:28:143:171/128;
     2001:558:1004:e:172:28:96:76/128;
     2001:558:101d:5:172:28:142:36/128;
     2001:558:1004:e:172:28:96:77/128;
     2001:558:101d:5:172:28:142:37/128;
     2001:558:1004:e:172:28:96:246/128;
     2001:558:101d:5:172:28:143:172/128;
     2001:558:1004:e:172:28:96:155/128;
     2001:558:101d:5:172:28:142:60/128;
     2001:558:1004:e:172:28:96:156/128;
     2001:558:101d:5:172:28:142:61/128;
     2001:558:1004:e:172:28:96:157/128;
     2001:558:101d:5:172:28:142:62/128;
     2001:558:1004:e:172:28:96:247/128;
     2001:558:101d:5:172:28:143:173/128;
     2001:558:1004:210:10:54:187:41/128;
     2001:558:101d:66:172:27:155:248/128;
     2001:558:1002:109:172:28:64:210/128;
     2001:558:101d:5:172:28:142:73/128;
     2001:558:1002:109:172:28:64:211/128;
     2001:558:101d:5:172:28:142:74/128;
     2001:558:1002:109:172:28:64:212/128;
     2001:558:101d:5:172:28:142:75/128;
     2001:558:1002:109:172:28:64:213/128;
     2001:558:101d:5:172:28:142:76/128;
     2001:558:1002:109:172:28:64:216/128;
     2001:558:101d:5:172:28:142:79/128;
     2001:558:101d:66:172:27:152:249/128;
     2001:558:101d:57:10:22:89:192/128;
     2001:558:101d:57:10:22:89:193/128;
     2001:558:1004:644:10:22:18:71/128;
     2001:558:1004:644:10:22:18:72/128;
     2001:558:1004:646:10:22:19:10/128;
     2001:558:1004:646:10:22:19:11/128;
     2001:558:1004:f:250:56ff:febe:ea89/128;
     2001:558:fe14:f:76:96:79:100/128;
     2001:558:fe16:105:76:96:37:4/128;
     2001:558:fe16:d:162:150:44:109/128;
     2001:558:fe16:d:162:150:44:110/128;
     2001:558:fe16:d:162:150:44:111/128;
     2001:558:fe16:d:162:150:44:112/128;
     2001:558:1004:302:76:96:35:80/128;
     2001:558:1002:109:172:28:75:75/128;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/ABUSE-TAP-PERMIT


## Zhutao notes: not in cran template, find out where this is referenced
    prefix-list ABUSE-TAP-PERMIT {
         129.6.15.28/32;
         129.6.15.29/32;
         132.163.4.101/32;
         132.163.4.102/32;
    }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/COPS-FROM-CMTS


policy-options {
    prefix-list COPS-FROM-CMTS {
        68.85.0.0/19;
        68.86.0.0/15;
    }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/FROM-NETMGMT


policy-options {
    prefix-list FROM-NETMGMT {
     10.0.0.0/8;
     24.40.0.0/18;
     24.40.64.0/20;
     67.178.0.0/15;
     68.85.0.0/16;
     68.86.0.0/15;
     69.139.128.0/17;
     69.240.0.0/15;
     69.252.0.0/16;
     76.96.0.0/17;
     96.106.0.0/15;
     96.108.0.0/16;
     98.205.0.0/16;
     98.241.0.0/16;
     147.191.0.0/16;
     162.150.0.0/15;
     165.137.0.0/16;
     169.152.0.0/16;
     172.16.0.0/12;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV4-DC-STREAM-EXCEPTION


 policy-options {
    prefix-list IPV4-DC-STREAM-EXCEPTION {
		  68.87.48.99/32;
          68.87.48.125/32;
          68.87.29.197/32;
          69.252.101.144/32;
		  69.252.205.24/32;
		  68.87.82.237/32;
		  76.96.69.84/32;
		  96.114.156.145/32;
	      162.150.57.167/32;
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-DC-STREAM-EXCEPTION


 policy-options {
    prefix-list IPV6-DC-STREAM-EXCEPTION {
		2001:558:fe14:3:68:87:29:197/128;
		2001:558:fe21:38:162:150:57:167/128;
		2001:558:fe16:109:96:114:156:145/128;
		2001:558:fe14:14:76:96:69:84/128;
		2001:558:fe21:2:69:252:205:24/128;
		2001:558:1004:0:68:87:82:237/128;
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/TO-NETMGMT


policy-options {
    prefix-list TO-NETMGMT {
    24.153.72.0/24;
    68.86.0.0/15;
    69.252.0.0/17;
    76.96.0.0/17;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/TRANSIT-DSG-DTV-IN


policy-options {
    prefix-list TRANSIT-DSG-DTV-IN {
        10.1.189.0/24;
        10.2.47.65/32;
        10.2.62.99/32;
        10.3.169.100/32;
        10.3.221.0/24;
        10.3.223.100/32;
        10.6.16.0/24;
        10.9.239.3/32;
        10.10.52.0/23;
        10.10.87.0/24;
        10.10.88.0/24;
        10.10.89.0/24;
        10.10.95.0/24;
        10.10.96.0/24;
        10.10.101.0/24;
        10.10.102.0/24;
        10.10.103.0/24;
        10.10.133.0/24;
        10.10.135.0/24;
        10.10.137.0/24;
        10.10.138.0/23;
        10.10.140.0/23;
        10.10.151.0/24;
        10.10.152.0/24;
        10.10.182.0/23;
        10.10.184.0/24;
        10.10.221.0/24;
        10.11.130.6/32;
        10.11.103.160/27;
        10.12.16.0/23;
        10.12.52.0/23;
        10.12.70.0/27;
        10.12.72.0/24;
        10.12.101.0/24;
        10.12.102.0/24;
        10.12.103.0/24;
        10.12.104.0/24;
        10.12.105.0/24;
        10.12.106.0/24;
        10.12.107.0/24;
        10.12.108.0/24;
        10.12.109.0/24;
        10.12.129.0/24;
        10.12.131.0/24;
        10.12.153.0/24;
        10.12.154.0/24;
        10.12.155.128/25;
        10.12.174.0/24;
        10.12.244.0/24;
        10.12.248.0/24;
        10.13.52.0/25;
        10.13.80.0/24;
        10.13.90.0/24;
        10.13.102.0/24;
        10.14.5.0/24;
        10.14.112.8/32;
        10.14.115.20/32;
        10.14.148.128/25;
        10.14.162.64/26;
        10.14.232.0/24;
        10.15.100.15/32;
        10.15.102.15/32;
        10.15.149.128/25;
        10.15.151.0/24;
        10.15.152.128/25;
        10.15.154.0/24;
        10.15.172.0/25;
        10.16.19.0/25;
        10.16.51.135/32;
        10.16.81.25/32;
        10.16.89.0/24;
        10.16.93.0/24;
        10.16.100.15/32;
        10.16.101.15/32;
        10.16.102.2/32;
        10.16.104.25/32;
        10.16.150.0/24;
        10.16.151.0/24;
        10.16.165.0/24;
        10.16.168.0/24;
        10.16.169.0/25;
        10.16.174.0/24;
        10.16.176.0/25;
        10.16.178.0/24;
        10.17.63.0/24;
        10.17.64.0/24;
        10.17.105.192/26;
        10.17.109.0/24;
        10.17.136.0/24;
        10.17.137.0/24;
        10.17.138.0/24;
        10.17.139.0/24;
        10.17.152.0/23;
        10.17.155.0/24;
        10.17.247.0/24;
        10.17.249.0/24;
        10.24.75.0/25;
        10.24.150.0/24;
        10.24.246.9/32;
        10.29.16.0/24;
        10.29.17.0/24;
        10.29.21.0/24;
        10.29.48.0/24;
        10.41.72.0/25;
        10.41.76.0/24;
        10.41.77.0/24;
        10.41.82.0/24;
        10.41.84.0/24;
        10.41.86.0/24;
        10.41.88.0/24;
        10.41.89.0/24;
        10.41.90.0/24;
        10.50.90.254/32;
        10.52.58.0/24;
        10.125.5.5/32;
        10.125.9.0/24;
        10.125.11.20/32;
        10.125.14.0/24;
        10.125.24.0/24;
        10.125.30.83/32;
        10.130.64.6/32;
        10.130.65.0/24;
        10.130.69.128/25;
        10.130.101.191/32;
        10.130.122.128/25;
        10.130.126.0/24;
        10.130.254.0/24;
        10.161.66.0/24;
        10.161.129.0/24;
        10.161.131.0/24;
        10.161.132.0/23;
        10.161.134.0/24;
        10.161.204.0/24;
        10.164.159.1/32;
        10.164.159.129/32;
        10.164.171.10/32;
        10.164.171.135/32;
        10.165.102.0/23;
        10.165.106.0/23;
        10.165.121.0/24;
        10.165.122.0/23;
        10.165.124.0/22;
        10.165.128.0/23;
        10.165.150.0/23;
        10.165.196.34/32;
        10.165.196.42/32;
        10.165.196.50/32;
        10.165.196.58/32;
        10.165.210.0/23;
        10.168.59.0/24;
        10.168.60.0/23;
        10.169.94.1/32;
        10.169.210.0/23;
        10.169.212.0/23;
        10.169.214.0/23;
        10.174.150.0/24;
        10.174.152.0/23;
        10.174.155.0/27;
        10.174.156.0/24;
        10.174.170.0/24;
        10.174.182.0/24;
        10.174.185.61/32;
        10.174.186.0/24;
        10.174.188.0/24;
        10.174.216.61/32;
        10.174.216.93/32;
        10.174.220.0/24;
        10.175.1.0/24;
        10.175.2.0/23;
        10.175.5.0/24;
        10.175.14.0/23;
        10.175.28.0/23;
        10.175.32.0/24;
        10.177.207.1/32;
        10.177.210.0/23;
        10.177.217.0/24;
        10.179.100.0/24;
        10.179.102.0/23;
        10.179.105.0/24;
        10.179.106.0/24;
        10.179.225.0/24;
        10.179.226.0/24;
        10.179.227.0/26;
        10.179.228.0/24;
        10.182.225.0/24;
        10.183.200.0/24;
        10.183.201.0/24;
        10.187.131.125/32;
        10.187.143.0/24;
        10.187.156.0/24;
        10.187.179.69/32;
        10.187.189.0/24;
        10.188.139.0/24;
        10.188.158.0/24;
        10.188.160.0/24;
        10.188.168.0/22;
        10.188.176.0/25;
        10.189.18.15/32;
        10.189.100.11/32;
        10.189.106.20/32;
        10.189.122.128/25;
        10.189.150.0/24;
        10.189.155.0/24;
        10.189.158.0/24;
        10.189.159.0/25;
        10.189.160.0/24;
        10.189.161.0/24;
        10.189.164.0/24;
        10.189.195.0/25;
        10.190.75.1/32;
        169.152.79.0/24;
        172.16.87.0/24;
        172.16.228.0/23;
        172.19.144.0/24;
        172.19.152.0/24;
        172.19.168.0/24;
        172.19.238.0/24;
        172.21.64.0/18;
        172.21.128.0/17;
        172.28.0.0/18;
        172.30.32.0/24;
        172.30.35.0/24;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/TO-COMCAST


policy-options {
    prefix-list TO-COMCAST {
        10.0.0.0/8;
        23.30.0.0/15;
        23.24.0.0/15;
        23.68.0.0/14;
        24.0.0.0/12;
        24.16.0.0/13;
        24.30.0.0/17;
        24.34.0.0/16;
        24.40.0.0/18;
        24.40.64.0/20;
        24.60.0.0/14;
        24.91.0.0/16;
        24.98.0.0/15;
        24.118.0.0/16;
        24.124.128.0/17;
        24.125.0.0/16;
        24.126.0.0/15;
        24.128.0.0/16;
        24.129.0.0/17;
        24.130.0.0/15;
        24.147.0.0/16;
        24.153.64.0/19;
        24.218.0.0/16;
        24.245.0.0/18;
        50.73.0.0/16;
        50.76.0.0/14;
        50.128.0.0/10;
        50.192.0.0/13;
        50.200.0.0/13;
        50.208.0.0/12;
        50.224.0.0/12;
        50.240.0.0/12;
        64.139.64.0/19;
        65.34.128.0/17;
        65.96.0.0/16;
        66.30.0.0/15;
        66.41.0.0/16;
        66.56.0.0/18;
        66.176.0.0/15;
        66.208.192.0/18;
        66.229.0.0/16;
        67.160.0.0/11;
        68.32.0.0/11;
        68.80.0.0/13;
        69.136.0.0/13;
        69.180.0.0/15;
        69.240.0.0/12;
        70.88.0.0/14;
        71.24.0.0/14;
        71.56.0.0/13;
        71.192.0.0/12;
        71.224.0.0/12;
        73.0.0.0/8;
        74.16.0.0/12;
        74.92.0.0/14;
        74.144.0.0/12;
        75.64.0.0/13;
        75.72.0.0/15;
        75.74.0.0/16;
        75.75.0.0/17;
        75.75.128.0/18;
        75.144.0.0/13;
        76.16.0.0/12;
        76.96.0.0/11;
        76.128.0.0/11;
        96.64.0.0/11;
        96.96.0.0/13;
        96.104.0.0/14;
        96.108.0.0/16;
        96.120.0.0/14;
        96.124.0.0/16;
        96.128.0.0/11;
        96.160.0.0/11;
        96.192.0.0/11;
        98.32.0.0/11;
        98.192.0.0/10;
        100.64.0.0/11;
        107.0.0.0/14;
        107.4.0.0/15;
        147.191.0.0/16;
        162.17.0.0/16;
        162.148.0.0/14;
        165.137.0.0/16;
        169.152.0.0/16;
        172.16.0.0/12;
        172.244.0.0/16;
        173.8.0.0/13;
        173.160.0.0/13;
        174.48.0.0/12;
        174.160.0.0/11;
        184.108.0.0/14;
        184.112.0.0/12;
        198.0.0.0/16;
        198.178.8.0/21;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/RELAY-AGENT-FILTER


policy-options {
    prefix-list RELAY-AGENT-FILTER {
      apply-path "interfaces irb unit 1 family inet address <*>";
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/GREEN-CMS-OUT


policy-options {
    prefix-list GREEN-CMS-OUT {
		10.0.0.0/8;
		23.68.0.0/14;
		24.40.0.0/18;
		24.40.64.0/20;
		24.124.128.0/17;
		24.153.64.0/19;
		24.153.72.0/21;
		50.208.0.0/12;
		64.101.140.232/32;
		67.178.0.0/15;
		68.85.0.0/16;
		68.86.0.0/15;
		69.139.128.0/17;
		69.240.0.0/15;
		69.252.0.0/16;
		71.24.0.0/14;
		74.16.0.0/12;
		74.144.0.0/12;
		76.96.0.0/16;
		76.128.0.0/11;
		96.106.0.0/15;
		96.108.0.0/16;
		96.114.0.0/15;
		96.116.0.0/14;
		96.128.0.0/10;
		96.192.0.0/11;
		98.32.0.0/11;
		98.205.0.0/16;
		98.241.0.0/16;
		147.191.0.0/16;
		162.150.0.0/16;
		165.137.0.0/16;
		169.152.0.0/16;
		172.16.0.0/12;
		172.244.0.0/16;
		174.160.0.0/11;
		184.108.0.0/14;
		184.112.0.0/12;
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/NTP-TFTP-DHCP-CLIENT


policy-options {
    prefix-list NTP-TFTP-DHCP-CLIENT {
        23.30.0.0/15;
        23.68.0.0/14;
        24.0.0.0/12;
        24.16.0.0/13;
        24.30.0.0/17;
        24.34.0.0/16;
        24.40.0.0/18;
        24.40.64.0/20;
        24.41.0.0/18;
        24.41.64.0/19;
        24.60.0.0/14;
        24.91.0.0/16;
        24.98.0.0/15;
        24.104.0.0/17;
        24.104.128.0/19;
        24.118.0.0/16;
        24.124.128.0/17;
        24.125.0.0/16;
        24.126.0.0/15;
        24.128.0.0/16;
        24.129.0.0/17;
        24.130.0.0/15;
        24.147.0.0/16;
        24.149.128.0/17;
        24.153.64.0/19;
        24.153.72.0/21;
        24.218.0.0/16;
        24.245.0.0/18;
        24.248.90.0/24;
        50.73.0.0/16;
        50.76.0.0/14;
        50.128.0.0/9;
        50.224.0.0/12;
        64.56.32.0/19;
        64.78.64.0/18;
        64.91.128.0/18;
        64.91.192.0/19;
        64.139.64.0/19;
        64.201.0.0/19;
        64.235.160.0/19;
        65.34.128.0/17;
        65.96.0.0/16;
        65.97.0.0/19;
        66.6.64.0/20;
        66.30.0.0/15;
        66.41.0.0/16;
        66.56.0.0/18;
        66.176.0.0/15;
        66.208.192.0/18;
        66.229.0.0/16;
        66.240.0.0/18;
        67.160.0.0/11;
        68.32.0.0/11;
        68.80.0.0/13;
        69.136.0.0/13;
        69.180.0.0/15;
        69.240.0.0/12;
        70.88.0.0/14;
        71.24.0.0/14;
        71.56.0.0/13;
        71.192.0.0/12;
        71.224.0.0/12;
        72.55.0.0/17;
        73.0.0.0/8;
        74.16.0.0/12;
        74.81.128.0/19;
        74.92.0.0/14;
        74.144.0.0/12;
        75.64.0.0/13;
        75.72.0.0/15;
        75.74.0.0/16;
        75.75.0.0/17;
        75.75.128.0/18;
        75.144.0.0/13;
        76.16.0.0/12;
        76.96.0.0/11;
        76.128.0.0/11;
        96.64.0.0/11;
        96.96.0.0/12;
        96.112.0.0/13;
        96.120.0.0/14;
        96.124.0.0/16;
        96.128.0.0/10;
        96.192.0.0/11;
        98.32.0.0/11;
        98.192.0.0/10;
        100.64.0.0/10;
        100.96.0.0/12;
        107.0.0.0/14;
        107.4.0.0/15;
        147.191.0.0/16;
        149.130.0.0/16;
        155.48.0.0/16;
        161.243.0.0/16;
        162.148.0.0/14;
        165.137.0.0/16;
        167.86.0.0/16;
        169.152.0.0/16;
        169.157.0.0/16;
        172.244.0.0/16;
        173.8.0.0/13;
        173.160.0.0/13;
        174.48.0.0/12;
        174.160.0.0/11;
        184.108.0.0/14;
        184.112.0.0/12;
        192.42.89.0/24;
        198.137.252.0/23;
        198.178.8.0/21;
        204.194.168.0/21;
        205.173.32.0/21;
        205.247.172.0/24;
        208.39.128.0/18;
        208.110.192.0/19;
        209.23.192.0/18;
        209.91.0.0/18;
        209.101.83.0/24;
        209.128.128.0/18;
        209.162.0.0/18;
        209.173.64.0/18;
        216.9.208.0/20;
        216.45.128.0/17;
        216.80.128.0/17;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/V6-NTP-TFTP-DHCP-CLIENT


## Zhutao notes: review
policy-options {
    prefix-list V6-NTP-TFTP-DHCP-CLIENT {
        2001:558::/29;
        2601::/28;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/PREFIX-LISTS/IPV6-BLUE-DHCP-DPE-LIST


 prefix-list V6-BLUE-DHCP-DPE-LIST {
        2001:558::/29;
        2601::/20;
        2603:2000::/20;
    }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/AUPM-APOP-SPECIFIC-EXPORT


policy-options {
	policy-statement AUPM-[% CRAN-ASN %]-EXPORT {
		term direct {
		    from {
        		protocol direct;
        	    }
                    then {
                        community add AUPM-[% APOP-ASN %]-COMM;
                        community add AUPM-[% CRAN-MARKET-ASN %]-COMM;   ## Maybe multiple;
                        community add [% APOP-ASN %]-INTER-ASN-VPN-COMM;
                        accept;
                    }
                }
             	term static {
		    from {
        		protocol static;
        		route-filter 0.0.0.0/0 exact;
        		condition AUPM-LB-GLOBAL-INTERFACE-UP;
    		    }
                    then {
                        community add AUPM-[% APOP-ASN %]-COMM;
                        community add AUPM-[% CRAN-MARKET-ASN %]-COMM;   ## Maybe multiple;
                        community add [% APOP-ASN %]-INTER-ASN-VPN-COMM;
                        accept;
                    }
                }
		term v6-static {
		    from {
        		protocol static;
			route-filter ::/0 exact;
        		condition V6-AUPM-LB-GLOBAL-INTERFACE-UP;
    		    }
                    then {
                        community add AUPM-[% APOP-ASN %]-COMM;
                        community add AUPM-[% CRAN-MARKET-ASN %]-COMM;   ## Maybe multiple;
                        community add [% APOP-ASN %]-INTER-ASN-VPN-COMM;
                        accept;
                    }
                }
			term deny {
		    		then reject;
			}
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/CONNECTED-TO-BGP


policy-options {
    policy-statement CONNECTED-TO-BGP {
        term ha-connected {
	        from {
	                 protocol direct;
	                 policy RF-HA-CONNECTED-TO-BGP;
	        }
		    then {
		        metric 100;
		        origin igp;
		        next-hop [% LOOPBACK1-IPV4-ADDRESS %];
		        accept;
		    }
        }
        term permit {
            from {
                protocol direct;
                policy RF-CONNECTED-TO-BGP;
            }
            then {
                metric 100;
                next-hop [% LOOPBACK0-IPV4-ADDRESS %]; ## Loopback 0 equiv;
                origin igp;
                accept;
            }
        }
        term ignore {
            then next policy;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/DENY-ALL


policy-options {
    policy-statement DENY-ALL {
        then reject;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/ECMP


policy-options {
    policy-statement ECMP {
        then {
            load-balance per-packet;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/LDP-EGRESS


## Device Specific
policy-options {
    policy-statement LDP-EGRESS {
        term permit-isis-ipv4 {
            from {
                route-filter [% LOOPBACK10-IPV4-ADDRESS %]/32 exact;
            }
            then accept;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/LDP-IMPORT-EXPORT


## Market Specific
policy-options {
    policy-statement LDP-IMPORT-EXPORT {
        term permit-isis-loopbacks {
            from {
                route-filter [% MARKET-LO10-IPV4-AGG %] / [% LENGTH %] prefix-length-range /32-/32;
            }
            then accept;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/MATCH-ALL


policy-options {
    policy-statement MATCH-ALL {
        then accept;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-IPV6-COMCAST-ARIN


policy-options {
    policy-statement RF-IPV6-COMCAST-ARIN {
        term permit {
            from {
               route-filter 2001:558::/31 orlonger;
               route-filter 2001:55A::/31 orlonger;
               route-filter 2001:55C::/30 orlonger;
               route-filter 2601::/20 orlonger;
               route-filter 2603:2000::/20 orlonger;
               route-filter 2603:3000::/24 orlonger;
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-MATCH-DEFAULT


policy-options {
    policy-statement RF-MATCH-DEFAULT {
        term match-default {
            from {
                route-filter 0.0.0.0/0 exact;
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-V6-MATCH-DEFAULT


policy-options {
    policy-statement RF-V6-MATCH-DEFAULT {
        term v6-match-default {
            from {
                route-filter 0::0/0 exact;
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/HUB-DEFAULT


policy-options {
    policy-statement HUB-DEFAULT {
        term permit {
            from {
                protocol static;
                route-filter 0.0.0.0/0 exact;
            }
            then {
                external {
                    type 1;
                }
                accept;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/HUB-OSPF-DISTLIST-IN


policy-options {
    policy-statement HUB-OSPF-DISTLIST-IN {
        term permit {
            from policy RF-IPV4-DENY-DEFAULT;
            then accept;
        }
        term deny {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/HUB-OSPF-TO-BGP


policy-options {
    policy-statement HUB-OSPF-TO-BGP {
        term permit {
            from {
                instance HUB;
                protocol ospf;
                policy RF-IPV4-DENY-DEFAULT;
            }
            then {
              metric 100;
              next-hop [% LOOPBACK1-IPV4-PRIMARY-ADDRESS %];## Loopback 1 equiv;
                origin igp;
                accept;
            }
        }
        term ignore {
            then next policy;
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/HUB-RIB-GROUP-TO-INET0


##  We want to keep all HUB-OSPF learned prefixes from interfering with CRAN side prefixes.
##  Because of this, we set the preference to 165 for prefixes learned from HUB OSPF

policy-options {
    policy-statement HUB-RIB-GROUP-TO-INET0 {
        term direct {
            from protocol direct;
            then accept;
        }
        term ospf {
            from {
                protocol ospf;
                policy RF-IPV4-DENY-DEFAULT;
            }
            then {
                accept;
                preference 165;
            }
        }
        term deny {
            then reject;
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/IPV4-ISIS-L1-TO-BGP


policy-options {
  policy-statement IPV4-ISIS-L1-TO-BGP {
      term permit {
        from {
            protocol isis;
            level 1;
		 policy RF-IPV4-DENY-DEFAULT;
        }
        then {
		metric 100;
		origin igp;
		next-hop [% LOOPBACK1-IPV4-PRIMARY-ADDRESS %];
		accept;
	   }
      }
      term ignore {
          then next policy;
      }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/IPV6-ISIS-L1-TO-BGP


policy-options {
  policy-statement IPV6-ISIS-L1-TO-BGP {
      term permit {
        from {
            protocol isis;
            level 1;
		 policy RF-IPV6-COMCAST-ARIN;
        }
        then {
		metric 100;
		origin igp;
		next-hop [% LOOPBACK61-IPV4-PRIMARY-ADDRESS %];
		accept;
	   }
      }
      term ignore {
          then next policy;
      }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/ISIS-EXPORT


policy-options {
  policy-statement ISIS-EXPORT {
    term permit-isis-ipv4 {
        from {
         protocol direct;
         route-filter [% MARKET-LO10-IPV4-AGG %]/[% LENGTH %] orlonger;
         route-filter [% MARKET-RAN-P2P-IPV4-AGG %]/[% LENGTH %] orlonger;
        }
        to level 2;
        then {
            tag add 10;
            accept;
        }
    }
    term deny-l1-routes {
        from {
            protocol isis;
            level 1;
        }
        to {
            protocol isis;
            level 2;
        }
        then reject;
    }
    term v6-deny-hub {
        from policy RF-V6-CONNECTED-TO-BGP;
        to level 2;
        then reject;
    }
    term deny-others {
            from family inet;
            to level 2;
            then reject;
    }
  }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/ISIS-LOOPBACK-TO-BGP


policy-options {
	policy-statement ISIS-LOOPBACK-TO-BGP {
		term isis-loopback {
			from {
				protocol direct;
				route-filter [% LOOPBACK10-IPV4-ADDRESS %]/32 exact;
			}
			then {
				community set [% MKT %]-BGP-LU-COMM;
				accept;
			}
		}
		term deny-other-ipv4 {
			from family inet;
			then reject;
		}
		then next policy;
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-IPV4-DENY-DEFAULT


policy-options {
  policy-statement RF-IPV4-DENY-DEFAULT {
	term deny {
   	    from {
        	route-filter 0.0.0.0/0 exact;
   	    }
          then reject;
      }
      term permit {
          then accept;
      }
  }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-CONNECTED-TO-BGP


policy-options {
    policy-statement RF-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% DC-SPECIFIC-CONNECTED-TO-BGP-PREFIX %]/[% LENGTH %] orlonger;
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-HA-CONNECTED-TO-BGP


policy-options {
    policy-statement RF-HA-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% DC-SPECIFIC-CONNECTED-TO-BGP-PREFIX %]/[% LENGTH %] orlonger;
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-STATIC-TO-BGP


policy-options {
    policy-statement RF-STATIC-TO-BGP {
        term permit {
            from {
                route-filter [% DC-SPECIFIC-STATIC-TO-BGP %]/[% LENGTH %] [% exact|orlonger %];
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-V6-CONNECTED-TO-BGP


policy-options {
    policy-statement RF-V6-CONNECTED-TO-BGP {
        term permit {
            from {
                route-filter [% V6-DC-SPECIFIC-CONNECTED-TO-BGP %]/[% LENGTH %] [% exact|orlonger %];
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/RF-V6-STATIC-TO-BGP


policy-options {
    policy-statement RF-V6-STATIC-TO-BGP {
        term permit {
            from {
                route-filter [% V6-DC-SPECIFIC-STATIC-TO-BGP %]/[% LENGTH %] [% exact|orlonger %];
            }
            then accept;
        }
        term subroutine-return {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/STATIC-TO-BGP


policy-options {
    policy-statement STATIC-TO-BGP {
        term permit {
            from {
                protocol static;
                policy RF-STATIC-TO-BGP;
            }
            then {
                metric 100;
                next-hop [% LOOPBACK0-IPV4-ADDRESS %];  ## Loopback 0 equiv;
                origin igp;
                accept;
            }
        }
        term ignore {
            then next policy;
        }
    }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/V6-CONNECTED-TO-BGP


policy-options {
    policy-statement V6-CONNECTED-TO-BGP {
        term permit {
            from {
                protocol direct;
                policy RF-V6-CONNECTED-TO-BGP;
            }
            then {
                metric 100;
                next-hop [% LOOPBACK60-IPV6-ADDRESS %];     ## Loopback 60 equiv;
                origin igp;
                accept;
            }
        }
        term ignore {
            then next policy;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/V6-STATIC-TO-BGP


policy-options {
    policy-statement V6-STATIC-TO-BGP {
        term permit {
            from {
                protocol static;
                policy RF-V6-STATIC-TO-BGP;
            }
            then {
                metric 100;
                next-hop [% LOOPBACK60-IPV6-ADDRESS %];     ## Loopback 60 equiv;
                origin igp;
                accept;
            }
         }
         term ignore {
             then next policy;
         }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/V4-UNICAST-ONLY


policy-options {
    policy-statement V4-UNICAST-ONLY {
        term deny-bgp-lu {
            from community BGP-LU-COMM;
            then reject;
        }
        then next policy;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/V6-HUB-RIB-GROUP-TO-INET6


policy-options {
    policy-statement V6-HUB-RIB-GROUP-TO-INET6 {
        term direct {
            from protocol direct;
            then accept;
        }
        term static {
            from protocol static;
            then accept;
        }
        term deny {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/POLICY-STATEMENT/V6-HUB-TO-BGP


policy-options {
    policy-statement V6-HUB-TO-BGP {
        term permit {
            from {
                instance HUB;
                protocol static;
                policy RF-IPV6-COMCAST-ARIN;
            }
            then {
                metric 100;
                origin igp;
                next-hop [% LOOPBACK61-IPV6-ADDRESS %];
                accept;
            }
        }
        term ignore {
            then next policy;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/COMMUNITY


policy-options {
	 community AUPM-[% CRAN-ASN %]-COMM members target:[% CRAN-ASN %]:3;	## Maybe multiple;
	 community INTER-ASN-VPN-COMM members *:1310;
	 community [% MKT %]-BGP-LU-COMM members [[% DC-ASN %]:1305 [% DC-ASN %]:[% DC-MARKET-COMM %]];
	 community [% MKT %]-INTER-ASN-VPN-COMM members [[% DC-ASN %]:1310 [% DC-ASN %]:[% DC-MARKET-COMM %]];
	 community BGP-LU-COMM members *:1305;
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/CONDITION/AUPM-LB-GLOBAL-INTERFACE-UP


 policy-options {
    condition AUPM-LB-GLOBAL-INTERFACE-UP {
        if-route-exists {
  	  	[% AUPM-LB-GLOBAL-INTERFACE-IPV4/PFX-LNGTH %];
    		table inet.0;
		}
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/POLICY-OPTIONS/CONDITION/V6-AUPM-LB-GLOBAL-INTERFACE-UP


 policy-options {
    condition V6-AUPM-LB-GLOBAL-INTERFACE-UP {
        if-route-exists {
            [% V6-AUPM-LB-GLOBAL-INTERFACE-IPV4 %]/64;
            table inet6.0;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/CLASSIFIERS


class-of-service {
    classifiers {
        dscp DSCPV4-CLASSIFIER-UNUSED {
            forwarding-class HSD {
                loss-priority high code-points [ 000001 000011 000100 000101 000110 000111 001011 af12 001101 af13 001111 010001 010011 010101 010111 cs3 011001 011011 011101 011111 cs4 100001 100111 101001 101011 101111 110001 110010 110011 110100 110101 110110 110111 cs7 111001 111010 111011 111100 111101 111110 111111 ];
            }
        }
        dscp DSCPV4-CLASSIFIER {
            import DSCPV4-CLASSIFIER-UNUSED;
            forwarding-class BASIC-DATA {
                loss-priority low code-points af11;
                loss-priority high code-points dscp2;
            }
            forwarding-class HSD {
                loss-priority low code-points cs1;
                loss-priority high code-points be;
            }
            forwarding-class VIDEO-CHAT {
                loss-priority low code-points dscp42;
                loss-priority high code-points dscp9;
            }
            forwarding-class MNGMT {
                loss-priority low code-points af33;
                loss-priority high code-points cs2;
            }
            forwarding-class VOIP-CONTROL {
                loss-priority low code-points af31;
                loss-priority high code-points dscp37;
            }
            forwarding-class DTV-CONTROL {
                loss-priority low code-points af32;
                loss-priority high code-points dscp35;
            }
            forwarding-class UET {
                loss-priority low code-points af41;
            }
            forwarding-class CDN {
                loss-priority low code-points af42;
            }
            forwarding-class VOD {
                loss-priority low code-points af43;
            }
            forwarding-class GAMING {
                loss-priority low code-points cs5;
            }
            forwarding-class VOIP-BEARER {
                loss-priority low code-points ef;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-points cs6;
            }
            forwarding-class SIP-BEARER {
                loss-priority low code-points dscp44;
            }
            forwarding-class PROVISIONING {
                loss-priority high code-points af21;
                loss-priority medium-high code-points af22;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-points af23;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-points dscp45;
            }
        }
        dscp-ipv6 DSCPV6-CLASSIFIER-UNUSED {
            forwarding-class HSD {
                loss-priority high code-points [ 000001 000011 000100 000101 000110 000111 001011 af12 001101 af13 001111 010001 010011 010101 010111 cs3 011001 011011 011101 011111 cs4 100001 100111 101001 101011 101111 110001 110010 110011 110100 110101 110110 110111 cs7 111001 111010 111011 111100 111101 111110 111111 ];
            }
        }
        dscp-ipv6 DSCPV6-CLASSIFIER {
            import DSCPV6-CLASSIFIER-UNUSED;
            forwarding-class BASIC-DATA {
                loss-priority low code-points af11;
                loss-priority high code-points dscp2;
            }
            forwarding-class HSD {
                loss-priority low code-points cs1;
                loss-priority high code-points be;
            }
            forwarding-class VIDEO-CHAT {
                loss-priority low code-points dscp42;
                loss-priority high code-points dscp9;
            }
            forwarding-class MNGMT {
                loss-priority low code-points af33;
                loss-priority high code-points cs2;
            }
            forwarding-class VOIP-CONTROL {
                loss-priority low code-points af31;
                loss-priority high code-points dscp37;
            }
            forwarding-class DTV-CONTROL {
                loss-priority low code-points af32;
                loss-priority high code-points dscp35;
            }
            forwarding-class UET {
                loss-priority low code-points af41;
            }
            forwarding-class CDN {
                loss-priority low code-points af42;
            }
            forwarding-class VOD {
                loss-priority low code-points af43;
            }
            forwarding-class GAMING {
                loss-priority low code-points cs5;
            }
            forwarding-class VOIP-BEARER {
                loss-priority low code-points ef;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-points cs6;
            }
            forwarding-class SIP-BEARER {
                loss-priority low code-points dscp44;
            }
            forwarding-class PROVISIONING {
                loss-priority high code-points af21;
                loss-priority medium-high code-points af22;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-points af23;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-points dscp45;
            }
        }
        exp EXP-CLASSIFIER {
            forwarding-class BASIC-DATA {
                loss-priority low code-points [ EXP-0 EXP-1 EXP-2 EXP-4 EXP-7 ];
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-points EXP-3;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-points EXP-5;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-points EXP-6;
            }
        }
        ieee-802.1 DOT1P-CLASSIFIER {
            forwarding-class BASIC-DATA {
                loss-priority low code-points [ DOT1P-0 DOT1P-1 DOT1P-2 DOT1P-4 DOT1P-6 DOT1P-7 ];
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-points DOT1P-3;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-points DOT1P-5;
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/CODE-POINT-ALIASES


class-of-service {
    code-point-aliases {
        dscp {
            dscp2 000010;
            dscp9 001001;
            dscp35 100011;
            dscp37 100101;
            dscp42 101010;
            dscp44 101100;
            dscp45 101101;
        }
        dscp-ipv6 {
            dscp2 000010;
            dscp9 001001;
            dscp35 100011;
            dscp37 100101;
            dscp42 101010;
            dscp44 101100;
            dscp45 101101;
        }
        exp {
            EXP-0 000;
            EXP-1 001;
            EXP-2 010;
            EXP-3 011;
            EXP-4 100;
            EXP-5 101;
            EXP-6 110;
            EXP-7 111;
        }
        ieee-802.1 {
            DOT1P-0 000;
            DOT1P-1 001;
            DOT1P-2 010;
            DOT1P-3 011;
            DOT1P-4 100;
            DOT1P-5 101;
            DOT1P-6 110;
            DOT1P-7 111;
        }
        inet-precedence {
            IPP-0 000;
            IPP-1 001;
            IPP-2 010;
            IPP-3 011;
            IPP-4 100;
            IPP-5 101;
            IPP-6 110;
            IPP-7 111;
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/DROP-PROFILES


class-of-service {
    drop-profiles {
        DROP-LOW {
            interpolate {
                fill-level [ 70 100 ];
                drop-probability [ 0 100 ];
            }
        }
        DROP-HIGH {
            interpolate {
                fill-level [ 40 70 ];
                drop-probability [ 0 100 ];
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/FORWARDING-CLASSES


class-of-service {
    forwarding-classes {
        class HSD queue-num 0;
        class BASIC-DATA queue-num 0;
        class SIP-BEARER queue-num 0;
        class VIDEO-CHAT queue-num 0;
        class GAMING queue-num 0;
        class MNGMT queue-num 1;
        class VOIP-CONTROL queue-num 1;
        class DTV-CONTROL queue-num 1;
        class PROVISIONING queue-num 1;
        class PRIORITY-DATA queue-num 1;
        class UET queue-num 2;
        class CDN queue-num 2;
        class VOD queue-num 2;
        class VOIP-BEARER queue-num 3;
        class NETWORK-CONTROL queue-num 3;
        class PREMIUM-DATA queue-num 3;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/REWRITE-RULES


class-of-service {
    rewrite-rules {
        dscp DSCPV4-REWRITE {
            forwarding-class BASIC-DATA {
                loss-priority low code-point af11;
                loss-priority high code-point dscp2;
            }
            forwarding-class HSD {
                loss-priority low code-point cs1;
                loss-priority high code-point be;
            }
            forwarding-class VIDEO-CHAT {
                loss-priority low code-point dscp42;
                loss-priority high code-point dscp9;
            }
            forwarding-class MNGMT {
                loss-priority low code-point af33;
                loss-priority high code-point cs2;
            }
            forwarding-class VOIP-CONTROL {
                loss-priority low code-point af31;
                loss-priority high code-point dscp37;
            }
            forwarding-class DTV-CONTROL {
                loss-priority low code-point af32;
                loss-priority high code-point dscp35;
            }
            forwarding-class UET {
                loss-priority low code-point af41;
            }
            forwarding-class CDN {
                loss-priority low code-point af42;
            }
            forwarding-class VOD {
                loss-priority low code-point af43;
            }
            forwarding-class GAMING {
                loss-priority low code-point cs5;
            }
            forwarding-class VOIP-BEARER {
                loss-priority low code-point ef;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-point cs6;
            }
            forwarding-class SIP-BEARER {
                loss-priority low code-point dscp44;
            }
            forwarding-class PROVISIONING {
                loss-priority high code-point af21;
                loss-priority medium-high code-point af22;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-point af23;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-point dscp45;
            }
        }
        dscp-ipv6 DSCPV6-REWRITE {
            forwarding-class BASIC-DATA {
                loss-priority low code-point af11;
                loss-priority high code-point dscp2;
            }
            forwarding-class HSD {
                loss-priority low code-point cs1;
                loss-priority high code-point be;
            }
            forwarding-class VIDEO-CHAT {
                loss-priority low code-point dscp42;
                loss-priority high code-point dscp9;
            }
            forwarding-class MNGMT {
                loss-priority low code-point af33;
                loss-priority high code-point cs2;
            }
            forwarding-class VOIP-CONTROL {
                loss-priority low code-point af31;
                loss-priority high code-point dscp37;
            }
            forwarding-class DTV-CONTROL {
                loss-priority low code-point af32;
                loss-priority high code-point dscp35;
            }
            forwarding-class UET {
                loss-priority low code-point af41;
            }
            forwarding-class CDN {
                loss-priority low code-point af42;
            }
            forwarding-class VOD {
                loss-priority low code-point af43;
            }
            forwarding-class GAMING {
                loss-priority low code-point cs5;
            }
            forwarding-class VOIP-BEARER {
                loss-priority low code-point ef;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-point cs6;
            }
            forwarding-class SIP-BEARER {
                loss-priority low code-point dscp44;
            }
            forwarding-class PROVISIONING {
                loss-priority high code-point af21;
                loss-priority medium-high code-point af22;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-point af23;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-point dscp45;
            }
        }
        exp EXP-REWRITE {
            forwarding-class BASIC-DATA {
                loss-priority low code-point EXP-1;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-point EXP-3;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-point EXP-5;
            }
            forwarding-class NETWORK-CONTROL {
                loss-priority low code-point EXP-6;
            }
        }
        ieee-802.1 DOT1P-REWRITE {
            forwarding-class BASIC-DATA {
                loss-priority low code-point DOT1P-1;
            }
            forwarding-class PRIORITY-DATA {
                loss-priority high code-point DOT1P-3;
            }
            forwarding-class PREMIUM-DATA {
                loss-priority low code-point DOT1P-5;
            }
        }
      }
    }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/SCHEDULER-MAPS


class-of-service {
    scheduler-maps {
        QOS-MAP {
            forwarding-class BASIC-DATA scheduler TRAFFIC-CLASS-1-SCHEDULER;
            forwarding-class PRIORITY-DATA scheduler TRAFFIC-CLASS-2-SCHEDULER;
            forwarding-class VOD scheduler TRAFFIC-CLASS-3-SCHEDULER;
            forwarding-class PREMIUM-DATA scheduler TRAFFIC-CLASS-4-SCHEDULER;
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/CLASS-OF-SERVICE/SCHEDULERS


 class-of-service {
    schedulers {
        TRAFFIC-CLASS-1-SCHEDULER {
            transmit-rate percent 20;
            buffer-size temporal 50k;
            priority low;
            drop-profile-map loss-priority low protocol any drop-profile DROP-LOW;
            drop-profile-map loss-priority high protocol any drop-profile DROP-HIGH;
        }
        TRAFFIC-CLASS-2-SCHEDULER {
            transmit-rate percent 30;
            buffer-size temporal 20k;
            priority low;
            drop-profile-map loss-priority low protocol any drop-profile DROP-LOW;
            drop-profile-map loss-priority medium-high protocol any drop-profile DROP-HIGH;
            drop-profile-map loss-priority high protocol any drop-profile DROP-HIGH;
        }
        TRAFFIC-CLASS-3-SCHEDULER {
            transmit-rate percent 45;
            buffer-size temporal 10k;
            priority low;
            drop-profile-map loss-priority high protocol any drop-profile DROP-HIGH;
        }
        TRAFFIC-CLASS-4-SCHEDULER {
        	transmit-rate percent 5;
            buffer-size temporal 35k;
            priority strict-high;
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/DENY-VOD-ON-HSD


firewall {
    family inet {
        filter DENY-VOD-ON-HSD {
            interface-specific;
            term fec-af43 {
                from {
                    forwarding-class VOD;
                }
                then {
                    count fec-af43;
                    discard;
                }
            }
            term accept {
                then accept;
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/DENY-VOD-ADS-ON-HUBLINKS


firewall {
    family inet {
		filter DENY-VOD-ADS-ON-HUBLINKS {
            interface-specific;
            term block-fec-af43 {
                from {
                    forwarding-class VOD;
                }
                then {
                    count fec-af43;
                    discard;
                }
            }
            term block-fec-af41 {
                from {
                    forwarding-class UET;
                }
                then {
                    count fec-af41;
                    discard;
                }
            }
            inactive: term block-af43 {
                from {
                    dscp af43;
                }
                then {
                    count af43;
                    discard;
                }
            }
            inactive: term block-af41 {
                from {
                    dscp af41;
                }
                then {
                    count af41;
                    discard;
                }
            }
            term accept-others {
                then accept;
            }
        }
   }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-NETMGMT-IN


firewall {
    family inet {
        filter SP-NETMGMT-IN {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term netmgmt-in {
                then {
                    count fec-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
        }
   }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-ROUTING


firewall {
    family inet {
        filter SP-ROUTING {
            interface-specific;
            term permit-cs6 {
                from {
                    dscp cs6;
                }
                then {
                    count cs6;
                    accept;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/EQAM-OUT


firewall {
    family inet {
		filter EQAM-OUT {
            interface-specific;
            term permit-fec-cs2 {
                from {
                    forwarding-class MNGMT;
                }
                then {
                    count fec-cs2;
                    accept;
                }
            }
            term permit-fec-cs6 {
                from {
                    forwarding-class NETWORK-CONTROL;
                }
                then {
                    count fec-cs6;
                    accept;
                }
            }
            term permit-fec-af41 {
                from {
                    forwarding-class UET;
                }
                then {
                    count fec-af41;
                    accept;
                }
            }
            term permit-fec-af43 {
                from {
                    forwarding-class VOD;
                }
                then {
                    count fec-af43;
                    accept;
                }
            }
            term permit-fec-af21 {
                from {
                    forwarding-class PROVISIONING;
                }
                then {
                    count fec-af21;
                    accept;
                }
            }
            term permit-fec-af32-dscp35 {
                from {
                    forwarding-class DTV-CONTROL;
                }
                then {
                    count fec-af32-dscp35;
                    accept;
                }
            }
            term permit-fec-dscp37 {
                from {
                    forwarding-class VOIP-CONTROL;
                }
                then {
                    count fec-dscp37;
                    accept;
                }
            }
            term permit-cs2 {
                from {
                    dscp cs2;
                }
                then {
                    count cs2;
                    accept;
                }
            }
            term permit-cs6 {
                from {
                    dscp cs6;
                }
                then {
                    count cs6;
                    accept;
                }
            }
            term permit-af41 {
                from {
                    dscp af41;
                }
                then {
                    count af41;
                    accept;
                }
            }
            term permit-af43 {
                from {
                    dscp af43;
                }
                then {
                    count af43;
                    accept;
                }
            }
            term permit-af21 {
                from {
                    dscp af21;
                }
                then {
                    count af21;
                    accept;
                }
            }
            term permit-dscp35 {
                from {
                    dscp 35;
                }
                then {
                    count dscp35;
                    accept;
                }
            }
            term permit-dscp37 {
                from {
                    dscp 37;
                }
                then {
                    count dscp37;
                    accept;
                }
            }
            term permit-af32 {
                from {
                    dscp af32;
                }
                then {
                    count af32;
                    accept;
                }
            }
            term block-others {
                then {
                    count eqam-discards;
                    discard;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/NETMGMT


firewall {
    family inet {
        filter NETMGMT {
            interface-specific;
            term permit-fec-cs2 {
                from {
                    forwarding-class MNGMT;
                }
                then {
                    count fec-cs2;
                    accept;
                }
            }
            term permit-fec-cs6 {
                from {
                    forwarding-class NETWORK-CONTROL;
                }
                then {
                    count fec-cs6;
                    accept;
                }
            }
            term permit-fec-af41 {
                from {
                    forwarding-class UET;
                }
                then {
                    count fec-af41;
                    accept;
                }
            }
            term permit-fec-af43 {
                from {
                    forwarding-class VOD;
                }
                then {
                    count fec-af43;
                    accept;
                }
            }
            term permit-fec-af21 {
                from {
                    forwarding-class PROVISIONING;
                }
                then {
                    count fec-af21;
                    accept;
                }
            }
            term permit-fec-dscp35 {
                from {
                    forwarding-class DTV-CONTROL;
                }
                then {
                    count fec-dscp35;
                    accept;
                }
            }
            term permit-fec-dscp37 {
                from {
                    forwarding-class VOIP-CONTROL;
                }
                then {
                    count fec-dscp37;
                    accept;
                }
            }
            term permit-cs2 {
                from {
                    dscp cs2;
                }
                then {
                    count cs2;
                    accept;
                }
            }
            term permit-cs6 {
                from {
                    dscp cs6;
                }
                then {
                    count cs6;
                    accept;
                }
            }
            term permit-af41 {
                from {
                    dscp af41;
                }
                then {
                    count af41;
                    accept;
                }
            }
            term permit-af43 {
                from {
                    dscp af43;
                }
                then {
                    count af43;
                    accept;
                }
            }
            term permit-af21 {
                from {
                    dscp af21;
                }
                then {
                    count af21;
                    accept;
                }
            }
            term permit-dscp35 {
                from {
                    dscp 35;
                }
                then {
                    count dscp35;
                    accept;
                }
            }
            term permit-dscp37 {
                from {
                    dscp 37;
                }
                then {
                    count dscp37;
                    accept;
                }
            }
            term tcp-established {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol tcp;
                    tcp-established;
                }
                then accept;
            }
            term block-others {
                then {
                    count netmgmt-discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/ROUTER-ORIGINATED-TRAFFIC


firewall {
    family inet {
        filter ROUTER-ORIGINATED-TRAFFIC {
            term permit-local-services {
                from {
                    protocol udp;
                    destination-port [ ntp snmptrap syslog tacacs tftp 1645 1646 ];
                }
                then accept;
            }
            term permit-snmp {
                from {
                    protocol udp;
                    source-port snmp;
                }
                then accept;
            }
            term permit-tacacs {
                from {
                    protocol tcp;
                    destination-port tacacs;
                }
                then accept;
            }
            term permit-gre {
                from {
                    protocol gre;
                }
                then accept;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-ABUSE-TAP-IN


firewall {
    family inet {
        filter SP-ABUSE-TAP-IN {
            interface-specific;
            term hsd-silver-data-in {
                then {
                    count fec-cs1;
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-CCSCPEMGMT-IN


firewall {
    family inet {
        filter SP-CCSCPEMGMT-IN {
            interface-specific;
            term sp-ccscpe-in-fec {
                then {
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-CCSCPEMGMT-OUT


firewall {
    family inet {
        filter SP-CCSCPEMGMT-OUT {
            interface-specific;
            term sp-ccscpe-out {
                from {
                    dscp cs2;
                }
                then accept;
            }
            term sp-ccscpe-out-fec {
                from {
                    forwarding-class MNGMT;
                }
                then accept;
            }
            term to-dhcp-client {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                        RELAY-AGENT-FILTER;
                    }
                    protocol [ udp tcp ];
                    port [ dhcp tftp 32768-61000 ftp ftp-data ];
                }
                then {
                    count to-dhcp-client;
                    accept;
                }
            }
        }
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-CDN-IN


firewall {
    family inet {
        filter SP-CDN-IN {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term cdn-in {
                then {
                    count fec-af42;
                    loss-priority low;
                    forwarding-class CDN;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-TO-NETMGMT


firewall {
    family inet {
        filter SP-TO-NETMGMT {
            term to-netmgmt {
                from {
                    destination-prefix-list {
                        TO-NETMGMT;
                    }
                }
                then {
                    count fec-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-COPS-FROM-CMTS


 firewall {
    family inet {
        filter SP-COPS-FROM-CMTS {
            interface-specific;
            term cops-from-cmts {
                from {
                    source-address {
                        68.86.0.0/15;
                        68.85.0.0/19;
                    }
                    protocol tcp;
                    source-port 2126;
                }
                then {
                    count fec-af31;
                    loss-priority low;
                    forwarding-class VOIP-CONTROL;
                }
            }
        }
     }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-DC-BLUE-EXCEPTION


 firewall {
    family inet {
        filter SP-DC-BLUE-EXCEPTION {
            interface-specific;
            term dc-stream-exception {
                from {
                    source-prefix-list IPV4-DC-STREAM-EXCEPTION;
                }
                then {
                    count v4-stream;
                    forwarding-class PROVISIONING;
 	                loss-priority medium-high;
                }
            }
            term default-traffic {
				then {
					count v4-cs1;
					loss-priority low;
					forwarding-class HSD;
				}
			}
        }
     }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-DC-GREEN-EXCEPTION


 firewall {
    family inet {
        filter SP-DC-GREEN-EXCEPTION {
            interface-specific;
            term dc-stream-exception {
                from {
                    source-prefix-list IPV4-DC-STREAM-EXCEPTION;
                }
                then {
                    count v4-stream;
                    forwarding-class PROVISIONING;
 	                loss-priority medium-high;
                }
            }
            term default-traffic {
				then {
					count v4-cs2;
					loss-priority high;
					forwarding-class MNGMT;
				}
			}
        }
     }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-DIGITALTV-CONTROL


  firewall {
    family inet {
        filter SP-DIGITALTV-CONTROL {
            term permit-af32 {
                from {
                    dscp af32;
                }
                then {
                    count af32;
                    accept;
                }
            }
        }
     }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-DTV-CONTROL-IN


 firewall {
    family inet {
        filter SP-DTV-CONTROL-IN {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term digitaltv-control-in {
                then {
                    count fec-af32;
                    loss-priority low;
                    forwarding-class DTV-CONTROL;
                }
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-FROM-CMTS-IN



 firewall {
    family inet {
        filter SP-FROM-CMTS-IN {
			interface-specific;
			term routing {
			  from {
					dscp cs6;
				 }
			   then accept;
			 }
			term cops-from-cmts {
				from {
					source-prefix-list {
						COPS-FROM-CMTS;
					}
					protocol tcp;
					source-port 2126;
				}
				then {
					count fec-af31;
					loss-priority low;
					forwarding-class VOIP-CONTROL;
				}
			}
			term aupm-notify {
			from {
				 dscp 9;
			}
			then {
				count aupm-notify;
				routing-instance CRAN-FBF;
				}
			 }

			term from-infrastructure {
			   from {
					source-prefix-list {
						COMCAST-INFRASTRUCTURE;
					}
				}
				then {
					count from-infrastructure;
					loss-priority high;
					forwarding-class MNGMT;
				}
			}

			term dscp0-from-cmts {
				from {
					dscp 0;
				}
				then {
					count dscp0;
					loss-priority low;
					forwarding-class HSD;
				}
			}
			term default-traffic {
				then accept;
			}
		 }
	 }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-FROM-NETMGMT


firewall {
    family inet {
        filter SP-FROM-NETMGMT {
            interface-specific;
            term from-netmgmt {
                from {
                    source-prefix-list {
                        FROM-NETMGMT;
                    }
                }
                then {
                    count fec-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-HSD-PEER-NAME-IN


firewall {
    family inet {
        filter SP-HSD-PEER-NAME-IN {
            interface-specific;
            term hsd-silver-data-in {
                then {
                    count fec-cs1;
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-HSD-TEST-IN


  firewall {
    family inet {
        filter SP-HSD-TEST-IN {
            interface-specific;
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term hsd-silver-data-in {
                then {
                    count fec-cs1;
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
      }
   }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-MARK-CS1


 firewall {
    family inet {
        filter SP-MARK-CS1 {
            interface-specific;
            term hsd-silver-data-in {
                then {
                    count fec-cs1;
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
     }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-MULTICAST-VIDEO-IN


firewall {
    family inet {
        filter SP-MULTICAST-VIDEO-IN {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term multicast-video-in {
                then {
                    count fec-af41;
                    loss-priority low;
                    forwarding-class UET;
                }
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-NETMGMT


firewall {
    family inet {
        filter SP-NETMGMT {
            term block-af33 {  # picked up in FEC-MNGMT
                from {
                    dscp af33;
                }
                then {
                    reject;
                }
            }
            term permit-mngmt {
                from {
                    forwarding-class MNGMT;
                }
                then accept;
            }
            term permit-cs2 { # future use
                from {
                    dscp cs2;
                }
                then accept;
            }
            term deny-others {
                then {
                    reject;
                }
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-PCMM


 firewall {
    family inet {
        filter SP-PCMM {
            interface-specific;
            term SP-PCMM-PORT3918 {
                filter SP-PCMM-PORT3918;
            }
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term default-traffic {
                then {
                    count fec-af33;
                    loss-priority low;
                    forwarding-class MNGMT;
                }
            }
        }
     }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-PCMM-PORT3918


 firewall {
    family inet {
        filter SP-PCMM-PORT3918 {
            term pcmm-port3918 {
                from {
                    protocol tcp;
                    port 3918;
                }
                then {
                    count fec-af31;
                    loss-priority low;
                    forwarding-class VOIP-CONTROL;
                }
            }
        }
     }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-TO-ABUSE-TAP


 firewall {
    family inet {
        filter SP-TO-ABUSE-TAP {
            term permit-source {
                from {
                    source-address {
                       10.25.0.0/20;
                       10.195.240.0/24;
                       10.195.241.0/24;
                       10.195.242.0/24;
                       24.153.72.0/24;
                       66.240.33.192/26;
                       68.85.0.0/16;
                       68.86.0.0/16;
                       68.87.0.0/16;
                       69.139.0.0/16;
                       96.108.0.0/16;
                       162.151.0.0/16;
                       172.24.0.0/19;
                       172.30.0.0/16;
                       172.20.124.197/32;
                       172.24.96.135/32;
                       172.24.96.6/32;
                    }
                }
                then accept;
            }
            term tcp-established {
                from {
                    protocol tcp;
                    tcp-established;
                }
                then accept;
            }
            term permit-ntp {
                from {
                    source-address {
                        129.6.15.28/32;
                        129.6.15.29/32;
                        132.163.4.101/32;
                        132.163.4.102/32;
                    }
                    protocol udp;
                    destination-port ntp;
                }
                then accept;
            }
            term discard {
            	then {
            		count discards;
            		discard;
            	}

            }
        }
     }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-TRANSIT-CDN-IN


 firewall {
    family inet {
        filter SP-TRANSIT-CDN-IN {
            interface-specific;
            term permit-transit-cdn-in {
                from {
                    source-prefix-list {
                        CDN;
                    }
                    dscp af42;
                }
                then {
                    count af42;
                    loss-priority low;
                    forwarding-class CDN;
                    accept;
                }
            }
        }
     }
  }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/SP-VOD-IN


firewall {
    family inet {
        filter SP-VOD-IN {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term SP-TO-NETMGMT {
                filter SP-TO-NETMGMT;
            }
            term default-traffic {
                then {
                    count fec-af43;
                    loss-priority low;
                    forwarding-class VOD;
                }
            }
        }
	 }
	}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/DSCPVALUES-GREEN-NESTED


firewall {
  family inet {
	filter DSCPVALUES-GREEN-NESTED {
            interface-specific;
            term cs6-fec {
                from {
                    forwarding-class NETWORK-CONTROL;
                }
                then {
                    count cs6-fec;
                    accept;
                }
            }
            term cs2-fec {
                from {
                    forwarding-class MNGMT;
                }
                then {
                    count cs2-fec;
                    accept;
                }
            }
            term af41-fec {
                from {
                    forwarding-class UET;
                }
                then {
                    count af41-fec;
                    accept;
                }
            }
            term af43-fec {
                from {
                    forwarding-class VOD;
                }
                then {
                    count af43-fec;
                    accept;
                }
            }
            term af21-fec {
                from {
                    forwarding-class PROVISIONING;
                }
                then {
                    count af21-fec;
                    accept;
                }
            }
            term dscp35-fec {
                from {
                    forwarding-class DTV-CONTROL;
                }
                then {
                    count dscp35-fec;
                    accept;
                }
            }
            term dscp37-fec {
                from {
                    forwarding-class VOIP-CONTROL;
                }
                then {
                    count dscp37-fec;
                    accept;
                }
            }
            term dscp40-fec {
                from {
                    forwarding-class GAMING;
                }
                then {
                    count dscp40-fec;
                    accept;
                }
            }
            term dscp {
                from {
                    dscp [ cs6 cs2 af41 af43 af21 35 37 cs5 ];
                }
                then {
                    count dscp;
                    accept;
                }
            }
        }
    }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/DC-BLUE-FILTER


## Zhutao's note: Need to review
firewall {
    family inet {
        filter DC-BLUE-FILTER {
            interface-specific;
            term established {
                from {
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term from-comcast-infrastructure {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                }
                then {
                    count from-comcast-infrastructure;
                    accept;
                }
            }
            term from-ntp-tftp-dhcp-client {
                from {
                    source-prefix-list {
                        NTP-TFTP-DHCP-CLIENT;
                    }
                    protocol udp;
                    destination-port [ bootps tftp ntp 1024-65535 timed 37 ];
                }
                then {
                    count from-ntp-tftp-dhcp-client;
                    accept;
                }
            }
            term from-tcp-ntp-client {
                from {
                    source-prefix-list {
                        NTP-TFTP-DHCP-CLIENT;
                    }
                    protocol tcp;
                    destination-port 37;
                }
                then {
                    count from-tcp-ntp-client;
                    accept;
                }
            }
            term from-icmp-client {
                from {
                    source-prefix-list {
                        NTP-TFTP-DHCP-CLIENT;
                    }
                    protocol icmp;
                }
                then {
                    count from-icmp-client;
                    accept;
                }
            }
            term discard {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/PROVISIONING-IN


## Zhutao's note: Need to review, still needed?
firewall {
    family inet {
        filter PROVISIONING-IN {
            interface-specific;
            term provisioning-in {
                then {
                    count provisioning-af21;
                    loss-priority high;
                    forwarding-class PROVISIONING;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/CMTS-DPE


## Zhutao's note: Need to review
  firewall {
    family inet {
        filter CMTS-DPE {
            interface-specific;
            term SP-ROUTING {
                filter SP-ROUTING;
            }
            term PROVISIONING-IN {
                filter PROVISIONING-IN;
            }
            term default-traffic {
                filter SP-MARK-CS1;
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/DC-GREEN-FILTER


## Zhutao's note: Need to review
firewall {
    family inet {
        filter DC-GREEN-FILTER {
            interface-specific;
            term established-from-infra {
                from {
                    prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    tcp-established;
                }
                then {
                    count tcp-established-infra;
                    accept;
                }
            }
            term dscpvalues-green-nested {
                filter DSCPVALUES-GREEN-NESTED;
            }
            term icmp-from-infrastructure {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol icmp;
                    icmp-type-except [ router-advertisement redirect ];
                }
                then {
                    count permit-ipv4-icmp;
                    accept;
                }
            }
            term traceroute-from-infrastructure {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol udp;
                    destination-port 33434-33689;
                }
                then {
                    count ipv4-traceroute-from-infra;
                    accept;
                }
            }
            term from-dhcp-client {
                from {
                    destination-address {
                        255.255.255.255/32;
                    }
                    source-port bootpc;
                    destination-port bootps;
                }
                then accept;
            }
            term from-dhcp-server {
                from {
                    source-prefix-list {
                        ADMIN-RE-FILTER;
                    }
                    source-port bootps;
                    destination-port bootpc;
                }
                then accept;
            }
            term discard {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/GREEN-CMS-OUT


 firewall {
    family inet {
        filter GREEN-CMS-OUT {
            term DSCP {
			    from {
			        dscp [ cs6 cs2 af21 af31 ef ];
			    }
			    then accept;
			}
			term permit-ips {
			    from {
			        source-address {
			        	10.0.0.0/8;
			        	23.68.0.0/14;
			        	24.40.0.0/18;
			        	24.40.64.0/20;
			        	24.124.128.0/17;
			        	24.153.64.0/19;
			        	24.153.72.0/21;
			        	50.208.0.0/12;
			        	64.101.140.232/32;
			        	67.178.0.0/15;
			        	68.85.0.0/16;
			        	68.86.0.0/15;
			        	69.139.128.0/17;
			        	69.240.0.0/15;
			        	69.252.0.0/16;
			        	71.24.0.0/14;
			        	74.16.0.0/12;
			        	74.144.0.0/12;
			        	76.96.0.0/16;
			        	76.128.0.0/11;
			        	96.106.0.0/15;
			        	96.108.0.0/16;
			        	96.114.0.0/15;
			        	96.116.0.0/14;
			        	96.128.0.0/10;
			        	96.192.0.0/11;
			        	98.32.0.0/11;
			        	98.205.0.0/16;
			        	98.241.0.0/16;
			        	147.191.0.0/16;
			        	162.150.0.0/16;
			        	165.137.0.0/16;
			        	169.152.0.0/16;
			        	172.16.0.0/12;
			        	172.244.0.0/16;
			        	174.160.0.0/11;
			        	184.108.0.0/14;
			        	184.112.0.0/12;
					}
				}
				then accept;
			}
		}
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/BLUE-SBC-WHOLESALE-FILTER


## Zhutao's note: Need to review
firewall {
    family inet {
        filter BLUE-SBC-WHOLESALE-FILTER {
            interface-specific;
            term established {
                from {
                    protocol tcp;
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term from-comcast-infrastructure {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                }
                then {
                    count from-comcast-infrastructure;
                    accept;
                }
            }
            term udp-mixed {
                from {
                    protocol udp;
                    destination-port [ 5060-5061 10000-29999 ];
                }
                then {
                    count udp-mixed;
                    accept;
                }
            }
            term tcp-5060-5061 {
                from {
                    protocol tcp;
                    destination-port 5060-5061;
                }
                then {
                    count tcp-5060-5061;
                    accept;
                }
            }
            term discard {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/PROTECT-RE-IN


firewall {
    family inet {
        filter PROTECT-RE-IN {
            term tcp-established {
                from {
                    protocol tcp;
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term ntp {
                from {
                    source-prefix-list {
                        NTP-RE-FILTER;
                        IPV4-LOOPBACKS;
                    }
                    protocol udp;
                    port ntp;
                }
                then {
                    policer LIMIT-500k;
                    count permit-ipv4-ntp;
                    accept;
                }
            }
            term allow-loopback {
                from {
                    source-prefix-list {
                        IPV4-LOOPBACKS;
                    }
                }
                then {
                    count permit-ipv4-loopback;
                    accept;
                }
            }
			term first-icmp-frag {
                from {
                     protocol icmp;
                     first-fragment;
                }
                then {
                    count icmp-fragment-discards;
                    discard;
                }
			}
			term next-icmp-frag {
                from {
                     protocol icmp;
                     is-fragment;
                }
                then {
                    count icmp-fragment-discards;
                    discard;
                }
			}
            term icmp {
                from {
                    protocol icmp;
                    icmp-type-except [ router-advertisement redirect ];
                }
                then {
                    policer LIMIT-2m;
                    count permit-ipv4-icmp;
                    accept;
                }
            }
            term traceroute {
                from {
                    protocol udp;
                    destination-port 33434-33689;
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv4-traceroute;
                    accept;
                }
            }
            term mpls-oam {
                from {
                    protocol udp;
                    port 3503;
                }
                then {
                    policer LIMIT-500k;
                    count police-mpls-oam;
                    accept;
                }
            }
            term limit-syn-fin {
                from {
                    protocol tcp;
                    tcp-flags " syn | fin ";
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv4-synfin;
                    next term;
                }
            }
            term nosource {
                from {
                    ip-options "strict-source-route | loose-source-route";
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv4-sourceroute;
                    accept;
                }
            }
            term ospf {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol ospf;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-ospf;
                    accept;
                }
            }
            term rsvp {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol rsvp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-rsvp;
                    accept;
                }
            }
            term ldp {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol [ tcp udp ];
                    port ldp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-ldp;
                    accept;
                }
            }
            term bgp {
                from {
                    source-prefix-list {
                        BGP-RE-FILTER;
                    }
                    protocol tcp;
                    port bgp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-bgp;
                    accept;
                }
            }
            term bfd {
                from {
                    source-prefix-list {
                        COMCAST-INFRASTRUCTURE;
                    }
                    protocol udp;
                    destination-port [ 3784 4784 6784 ];
                }
                then {
                    count permit-ipv4-bfd;
                    accept;
                }
            }
            term muliticast {
                from {
                    destination-prefix-list {
                        MULTICAST-RE-FILTER;
                    }
                    protocol [ igmp pim ];
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-multicast;
                    accept;

                }
            }
            term ssh-telnet-in {
                from {
                    source-prefix-list {
                        ADMIN-RE-FILTER;
                    }
                    protocol tcp;
                    port [ ssh telnet ];
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-telnet;
                    accept;
                }
            }
            term snmp-servers {
                from {
                    source-prefix-list {
                        IPV4-SNMP-RE-FILTER;
                    }
                    protocol udp;
                    port snmp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-snmp;
                    accept;
                }
            }
            term services {
                from {
                    source-prefix-list {
                        ADMIN-RE-FILTER;
                        DNS-RE-FILTER;
                    }
                    protocol [ tcp udp ];
                    port [ domain 1645 radius ftp-data tacacs ];
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv4-services;
                    accept;
                }
            }
            term tcp-fragments {
                from {
                    source-prefix-list {
                        BGP-RE-FILTER;
                    }
                    is-fragment;
                    protocol tcp;
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv4-fragments;
                    accept;
                }
            }
			term from-dhcp-client {
				from {
					destination-address {
					255.255.255.255/32;
					}
					source-port bootpc;
					destination-port bootps;
				}
				then {
					policer LIMIT-500k;
					count police-ipv4-dhcp-client;
					accept;
				}
			}
			term from-dhcp-server {
				from {
					source-prefix-list {
					  COMCAST-INFRASTRUCTURE;
					}
					source-port bootps;
					destination-port bootps;
				}
				then {
					policer LIMIT-500k;
					count police-ipv4-dhcp-server;
					accept;
				}
			}
			term vrrp {
				from {
					source-prefix-list {
						COMCAST-INFRASTRUCTURE;
					}
					protocol vrrp;
				}
				then accept;
			}
			term deny-all {
					then {
						count discards;
						discard;
					}
			}
		}
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV4-FILTERS/PROTECT-RE-OUT


firewall {
    family inet {
        filter PROTECT-RE-OUT {
            term ospf {
                from {
                    protocol ospf;
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
            term rsvp {
                from {
                    protocol rsvp;
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
            term ldp {
                from {
                    protocol [ tcp udp ];
                    port ldp;
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
            term bgp {
                from {
                    protocol tcp;
                    port bgp;
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
            term bfd {
                from {
                    protocol udp;
                    destination-port [ 3784 4784 6784 ];
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
	    term multicast {
                from {
                    destination-prefix-list {
                        MULTICAST-RE-FILTER;
                    }
                    protocol [ igmp pim ];
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
	    term ntp {
                from {
                    protocol udp;
                    port ntp;
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term icmp {
                from {
                    protocol icmp;
                }
                then accept;
            }
            term traceroute {
                from {
                    protocol udp;
                    destination-port 33434-33689;
                }
                then accept;
            }
            term mpls-oam {
                from {
                    protocol udp;
                    port 3503;
                }
                then accept;
            }
            term syslog {
                from {
                    protocol [ udp tcp ];
                    port syslog;
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term ssh-telnet-out {
                from {
                    destination-prefix-list {
                        ADMIN-RE-FILTER;
                    }
                    protocol tcp;
                    port [ ssh telnet ];
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term snmp-servers {
                from {
                    protocol udp;
                    port [ snmptrap snmp ];
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term services {
                from {
                    destination-prefix-list {
                        ADMIN-RE-FILTER;
                        DNS-RE-FILTER;
                    }
                    protocol [ tcp udp ];
                    port [ domain 1645 radius ftp 2000 tacacs 9990 ];
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
	    term to-dhcp-server {
			from {
				destination-prefix-list {
					COMCAST-INFRASTRUCTURE;
				}
				source-port bootps;
				destination-port bootps;
			}
			then {
				forwarding-class MNGMT;
				loss-priority high;
				accept;
			}
	    }
	    term to-dhcp-client {
			from {
				source-port bootps;
				destination-port [ bootpc bootps ];
			}
			then {
				forwarding-class MNGMT;
				loss-priority high;
				accept;
			}
	    }
	    term allow-loopback {
                from {
                    destination-prefix-list {
                        IPV4-LOOPBACKS;
                    }
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
	    term tcp-established {
                from {
                    protocol tcp;
                    tcp-established;
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term deny-all {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}


## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-SP-MARK-CS1


 firewall {
    family inet6 {
        filter V6-SP-MARK-CS1 {
            interface-specific;
            term hsd-silver-data-in {
                then {
                    count v6-fec-cs1;
                    loss-priority low;
                    forwarding-class HSD;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-SP-DC-BLUE-EXCEPTION


 firewall {
    family inet6 {
        filter V6-SP-DC-BLUE-EXCEPTION {
            interface-specific;
            term v6-dc-stream-exception {
                from {
                    source-prefix-list IPV6-DC-STREAM-EXCEPTION;
                }
                then {
                    count v6-stream;
                    forwarding-class PROVISIONING;
 	                loss-priority medium-high;
                }
            }
            term default-traffic {
				then {
					count v6-cs1;
					loss-priority low;
					forwarding-class HSD;
				}
			}
        }
     }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-SP-DC-GREEN-EXCEPTION


 firewall {
    family inet6 {
        filter V6-SP-DC-GREEN-EXCEPTION {
            interface-specific;
            term v6-dc-stream-exception {
                from {
                    source-prefix-list IPV6-DC-STREAM-EXCEPTION;
                }
                then {
                    count v6-stream;
                    forwarding-class PROVISIONING;
 	                loss-priority medium-high;
                }
            }
            term default-traffic {
				then {
					count v6-cs2;
					loss-priority high;
					forwarding-class MNGMT;
				}
			}
        }
     }
 }
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-SP-NETMGMT-IN


firewall {
    family inet6 {
        filter V6-SP-NETMGMT-IN {
            interface-specific;
            term netmgmt-in {
                then {
                    count v6-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
        }
   }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-DC-BLUE-FILTER


firewall {
    family inet6 {
        filter V6-DC-BLUE-FILTER {
            interface-specific;
            term deny-v6-tcp-2323 {
                from {
                    next-header tcp;
                    destination-port 2323;
                }
                then {
                    count deny-v6-tcp-2323;
                    discard;
                }
            }
            term established-from-infra {
                from {
                    next-header tcp;
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term v6-from-comcast-infrastructure {
                from {
                    source-prefix-list {
                        IPV6-COMCAST-INFRASTRUCTURE;
                    }
                }
                then {
                    count v6-from-comcast-infrastructure;
                    accept;
                }
            }
            term from-v6-ntp-tftp-dhcp-client {
                from {
                    source-prefix-list {
                        V6-NTP-TFTP-DHCP-CLIENT;
                    }
                    next-header udp;
                    destination-port [ tftp ntp 547 1024-65535 37 ];
                }
                then {
                    count from-v6-ntp-tftp-dhcp-client;
                    accept;
                }
            }
            term from-v6-tcp-ntp-client {
                from {
                    source-prefix-list {
                        V6-NTP-TFTP-DHCP-CLIENT;
                    }
                    next-header tcp;
                    destination-port [ 37 547 ];
                }
                then {
                    count from-v6-tcp-ntp-client;
                    accept;
                }
            }
            term from-v6-icmp-client {
                from {
                    source-prefix-list {
                        V6-NTP-TFTP-DHCP-CLIENT;
                    }
                    next-header icmp;
                }
                then {
                    count from-v6-icmp-client;
                    accept;
                }
            }
            term icmp-RA {
                from {
                    icmp-type router-advertisement;
                }
                then {
                    count icmp-RA-count;
                    accept;
                }
            }
            term icmp-RS {
                from {
                    icmp-type router-solicit;
                }
                then {
                    count icmp-RS-count;
                    accept;
                }
            }
            term icmp-NA {
                from {
                    icmp-type neighbor-advertisement;
                }
                then {
                    count icmp-NA-count;
                    accept;
                }
            }
            term icmp-NS {
                from {
                    icmp-type neighbor-solicit;
                }
                then {
                    count icmp-NS-count;
                    accept;
                }
            }
            term icmp-MLQ {
                from {
                    icmp-type membership-query;
                }
                then accept;
            }
            term icmp-MLR {
                from {
                    icmp-type membership-report;
                }
                then accept;
            }
            term icmp-MLD {
                from {
                    icmp-type membership-termination;
                }
                then accept;
            }
            term icmp-Type1 {
                from {
                    icmp-type destination-unreachable;
                }
                then accept;
            }
            term icmp-Type2 {
                from {
                    icmp-type packet-too-big;
                }
                then accept;
            }
            term icmp-Type3 {
                from {
                    icmp-type time-exceeded;
                    icmp-code ttl-eq-zero-during-transit;
                }
                then accept;
            }
            term icmp-Type4 {
                from {
                    icmp-type parameter-problem;
                    icmp-code [ unrecognized-next-header unrecognized-option ];
                }
                then accept;
            }
            term icmp-EchoRequest {
                from {
                    icmp-type echo-reply;
                }
                then accept;
            }
            term icmp-EchoReply {
                from {
                    icmp-type echo-request;
                }
                then accept;
            }
            term 397846-926399 {
                from {
                    destination-address {
                        2001:558:fe12:3:69:252:196:210/64;
                    }
                    next-header tcp;
                    destination-port [ 80 5050 ];
                }
                then {
                    count 397846-926399;
                    accept;
                }
            }
            term deny-all {
                then {
                    count discards;
                    discard;
                }
            }
        }
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-BLUE-DHCP-DPE-FILTER


firewall {
    family inet6 {
        filter IPV6-BLUE-DHCP-DPE-FILTER {
            interface-specific;
            term deny-v6-tcp-2323 {
                from {
                    next-header tcp;
                    destination-port 2323;
                }
                then {
                    count deny-v6-tcp-2323;
                    discard;
                }
            }
            term established-from-infra {
                from {
                    next-header tcp;
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term v6-from-comcast-infrastructure {
                from {
                    source-prefix-list {
                        IPV6-COMCAST-INFRASTRUCTURE;
                    }
                }
                then {
                    count v6-from-comcast-infrastructure;
                    accept;
                }
            }
            term from-v6-tod-tftp-dhcp-client {
                from {
                    source-prefix-list {
                        V6-BLUE-DHCP-DPE-LIST;
                    }
                    next-header udp;
                    destination-port [ tftp 547 1024-65535 37 ];
                }
                then {
                    count from-v6-ntp-tftp-dhcp-client;
                    accept;
                }
            }
            term from-v6-tcp-ntp-client {
                from {
                    source-prefix-list {
                        V6-BLUE-DHCP-DPE-LIST;
                    }
                    next-header tcp;
                    destination-port [ 37 547 ];
                }
                then {
                    count from-v6-tcp-ntp-client;
                    accept;
                }
            }
            term from-v6-icmp-client {
                from {
                    source-prefix-list {
                        V6-BLUE-DHCP-DPE-LIST;
                    }
                    next-header icmp;
                }
                then {
                    count from-v6-icmp-client;
                    accept;
                }
            }
            term icmp-RA {
                from {
                    icmp-type router-advertisement;
                }
                then {
                    count icmp-RA-count;
                    accept;
                }
            }
            term icmp-RS {
                from {
                    icmp-type router-solicit;
                }
                then {
                    count icmp-RS-count;
                    accept;
                }
            }
            term icmp-NA {
                from {
                    icmp-type neighbor-advertisement;
                }
                then {
                    count icmp-NA-count;
                    accept;
                }
            }
            term icmp-NS {
                from {
                    icmp-type neighbor-solicit;
                }
                then {
                    count icmp-NS-count;
                    accept;
                }
            }
            term icmp-MLQ {
                from {
                    icmp-type membership-query;
                }
                then accept;
            }
            term icmp-MLR {
                from {
                    icmp-type membership-report;
                }
                then accept;
            }
            term icmp-MLD {
                from {
                    icmp-type membership-termination;
                }
                then accept;
            }
            term icmp-Type1 {
                from {
                    icmp-type destination-unreachable;
                }
                then accept;
            }
            term icmp-Type2 {
                from {
                    icmp-type packet-too-big;
                }
                then accept;
            }
            term icmp-Type3 {
                from {
                    icmp-type time-exceeded;
                    icmp-code ttl-eq-zero-during-transit;
                }
                then accept;
            }
            term icmp-Type4 {
                from {
                    icmp-type parameter-problem;
                    icmp-code [ unrecognized-next-header unrecognized-option ];
                }
                then accept;
            }
            term icmp-EchoRequest {
                from {
                    icmp-type echo-reply;
                }
                then accept;
            }
            term icmp-EchoReply {
                from {
                    icmp-type echo-request;
                }
                then accept;
            }
            term deny-all {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-DC-GREEN-FILTER


firewall {
    family inet6 {
        filter V6-DC-GREEN-FILTER {
            term established-from-infra {
                from {
                    prefix-list {
                        IPV6-COMCAST-INFRASTRUCTURE;
                    }
                    next-header tcp;
                    tcp-established;
                }
                then {
                    count tcp-established-infrastructure;
                    accept;
                }
            }
            term v6-from-green {
                from {
                    address {
                        2001:558:1000::/40;
                    }
                }
                then {
                    count v6-from-green;
                    accept;
                }
            }
            term v6-from-uen {
                from {
                    address {
                        2001:558:1600::/40;
                    }
                }
                then {
                    count v6-from-uen;
                    accept;
                }
            }
            term v6-from-black {
                from {
                    address {
                        2001:558:1200::/40;
                    }
                }
                then {
                    count v6-from-black;
                    accept;
                }
            }
            term v6-from-red {
                from {
                    address {
                        2001:558:1400::/40;
                    }
                }
                then {
                    count v6-from-red;
                    accept;
                }
            }
            term deny-all {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-PROTECT-RE-IN


firewall {
    family inet6 {
        filter V6-PROTECT-RE-IN {
            term v6-tcp-established {
                from {
                    next-header tcp;
                    tcp-established;
                }
                then accept;
            }
            term v6-allow-loopback {
                from {
                    source-prefix-list {
                        IPV6-LOOPBACKS;
                    }
                }
                then {
                    count permit-ipv6-loopback;
                    accept;
                }
            }
            term v6-icmp {
                from {
                    next-header icmpv6;
                    icmp-type-except [ router-advertisement redirect ];
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv6-icmp;
                    accept;
                }
            }
            term v6-traceroute {
                from {
                    next-header udp;
                    destination-port 33434-33689;
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv6-traceroute;
                    accept;
                }
            }
            term v6-bgp {
                from {
                    source-prefix-list {
                        BGP-RE-FILTER;
                    }
                    next-header tcp;
                    port bgp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv6-bgp;
                    accept;
                }
            }
            term v6-bfd {
                from {
                    next-header udp;
                    source-prefix-list {
                        IPV6-COMCAST-INFRASTRUCTURE;
                    }
                    destination-port [ 3784 4784 6784 ];
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
            }
			term v6-ssh-telnet-in {
                from {
                    source-prefix-list {
                        IPV6-ADMIN-RE-FILTER;
                    }
                    next-header tcp;
                    port [ ssh telnet ];
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv6-telnet;
                    accept;
                }
            }
            term v6-snmp-servers {
                from {
                    source-prefix-list {
                        IPV6-SNMP-RE-FILTER;
                    }
                    next-header udp;
                    port snmp;
                }
                then {
                    policer LIMIT-5m;
                    count permit-ipv6-snmp;
                    accept;
                }
            }
            term v6-deny-pim {
                from {
                    next-header pim;
                }
                then {
                    count v6-pim-discards;
                    discard;
                }
            }
            term v6-vrrp {
			    from {
			        source-address {
			            fe80::/64;
			        }
			        next-header vrrp;
			    }
			    then accept;
			}
            term v6-limit-syn-fin {
                from {
                    next-header tcp;
                    tcp-flags " syn | fin";
                }
                then {
                    policer LIMIT-500k;
                    count police-ipv6-synfin;
                    next term;
                }
            }
            term deny-all {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/IPV6-FILTERS/V6-PROTECT-RE-OUT


## IPv6 Firewall Outbound Routing-Engine Protection
firewall {
    family inet6 {
        filter V6-PROTECT-RE-OUT {
            term v6-bgp {
                from {
                    next-header tcp;
                    port bgp;
                }
                then {
					forwarding-class NETWORK-CONTROL;
					loss-priority low;
					accept;
				}
			}
            term v6-icmp {
                from {
                    next-header icmpv6;
                }
                then accept;
            }
            term v6-traceroute {
                from {
                    next-header udp;
                    destination-port 33434-33689;
                }
                then accept;
            }
            term v6-ssh-telnet-out {
                from {
                    destination-prefix-list {
                        IPV6-ADMIN-RE-FILTER;
                    }
                    next-header tcp;
                    port [ ssh telnet ];
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term v6-snmp-servers {
                from {
                    destination-prefix-list {
                        IPV6-SNMP-RE-FILTER;
                    }
                    next-header udp;
                    port snmp;
                }
                then {
                    forwarding-class MNGMT;
					loss-priority high;
					accept;
                }
            }
			term v6-tcp-established {
					from {
						next-header tcp;
						tcp-established;
					}
					then {
				forwarding-class MNGMT;
				loss-priority high;
				accept;
			}
            }
            term v6-allow-loopback {
                from {
                    prefix-list {
                        IPV6-LOOPBACKS;
                    }
                }
                then {
					forwarding-class MNGMT;
					loss-priority high;
					accept;
				}
            }
            term v6-vrrp {
			    from {
			        next-header vrrp;
			    }
			    then accept;
			}
			term v6-bfd {
                from {
                    next-header udp;
                    destination-port [ 3784 4784 6784 ];
                }
                then {
					accept;
				}
            }
            term v6-deny-pim {
                from {
                    next-header pim;
                }
                then {
                    count v6-pim-discards;
                    discard;
                }
            }
            term deny-all {
                then {
                    count v6-discards;
                    discard;
                }
            }
        }
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/POLICERS/LIMIT-15m


firewall {
    policer LIMIT-15m {
        if-exceeding {
            bandwidth-limit 15m;
            burst-size-limit 1m;
        }
        then discard;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/POLICERS/LIMIT-2m


firewall {
    policer LIMIT-2m {
        if-exceeding {
            bandwidth-limit 2m;
            burst-size-limit 500k;
        }
        then discard;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/POLICERS/LIMIT-500k


firewall {
    policer LIMIT-500k {
        if-exceeding {
            bandwidth-limit 500k;
            burst-size-limit 50k;
        }
        then discard;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/FIREWALL/POLICERS/LIMIT-5m


firewall {
    policer LIMIT-5m {
        if-exceeding {
            bandwidth-limit 5m;
            burst-size-limit 1m;
        }
        then discard;
    }
}

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/ROUTING-INSTANCES/CRAN-FBF-APOP


routing-instances {
    CRAN-FBF {
        instance-type vrf;
        interface lo0.1;
        interface [% AUPM-LB-PBR-INTERFACE %];
		route-distinguisher [% APOP-SUR-LOOPBACK10-IPV4-ADDRESS %]:1;
		vrf-target target:[% APOP-AS %]:[% MKT-ID %]00001;
		vrf-export AUPM-[% APOP-ASN %]-EXPORT;
        routing-options {
			rib CRAN-FBF.inet6.0 {
			        static {

	                	route ::/0 next-hop [% REMOTE-AUPM-LB-PBR-INTERFACE-IPV6 %];

	        		}
	    	}
			static {
				route 0.0.0.0/0 next-hop [% REMOTE-AUPM-LB-PBR-INTERFACE-IPV4 %];
			}
		}
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/ROUTING-INSTANCES/HUB-OSPF


routing-instances {
    HUB {
        instance-type no-forwarding;
        interface [% HUB-INTERFACE %].[% UNIT %];
        routing-options {
            interface-routes {
                rib-group {
                    inet HUB;
                    inet6 V6-HUB;
                }
            }
            rib HUB.inet6.0 {
                static {
                    rib-group V6-HUB;
                }
            }
            static {
                route 0.0.0.0/0 discard;
            }
            router-id [% LOOPBACK1-IPV4-PRIMARY-ADDRESS %];
        }
        protocols {
            ospf {
                apply-groups HUB-OSPF-OPTIONS;
                traceoptions {
                    file trace-ospf-juniper size 10m files 10;
                    flag error detail;
                    flag normal;
                    flag state;
                    flag event detail;
                }
                spf-options {
                    delay 400;
                }
                rib-group HUB;
                overload timeout 600;
                export HUB-DEFAULT;
                import HUB-OSPF-DISTLIST-IN;
                area 0.0.0.1 {
                    interface [% HUB-INTERFACE %].[% UNIT %] {
                        metric 1;
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/GROUPS/DNS-L3-OPTIONS


groups {
    DNS-L3-OPTIONS {
        interfaces {
            <*>  {
                unit 0 {
                    family inet {
                        filter {
                            output IPV4-DNS-PROTECT;
                            input IPV4-DNS-IN;
                        }
                    }
                    family inet6 {
                        filter {
                            output IPV6-DNS-PROTECT;
                            input IPV6-DNS-IN;
                        }
                    }
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/INTERFACES/DNS-10G-INTERFACE


interfaces {
  xe-[% FPC %]/[% PIC %]/[% PORT %] {
        apply-groups DNS-L3-OPTIONS;
        description "PHY|10G|DNS|rhost:[% REMOTE-HOST %]|rport:[% REMOTE-PORT %]";
        hold-time up 2000 down 0;
        mtu 9192;
        unit 0 {
            family inet {
                address [% HUB-P2P-IPV4-ADDRESS %]/30;
            }
            family inet6 {
                address [% HUB-P2P-IPV6-ADDRESS %]/64;
            }
        }
    }
}

class-of-service {
    interfaces {
        xe-[% FPC %]/[% PIC %]/[% PORT %] {
            apply-groups CRAN-P2P-COS;
        }
    }
}

protocols {
    isis {
         xe-[% FPC %]/[% PIC %]/[% PORT %].0 {
            passive;
            level 2 {
               metric 1;
               ipv6-unicast-metric 1;
            }
            level 1 disable;
        }
    }
    lldp {
		interface xe-[% FPC %]/[% PIC % ]/[% PORT %];
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/FIREWALL/IPV4-DNS-PROTECT


 firewall {
    family inet {
        filter IPV4-DNS-PROTECT {
            interface-specific;
            term dns-udp {
                from {
                    protocol udp;
                    port 53;
                }
                then {
                    count dns-udp;
                    accept;
                }
            }
            term dns-tcp {
                from {
                    protocol tcp;
                    destination-port 53;
                }
                then {
                    count dns-tcp;
                    accept;
                }
            }
            term tcp-established {
                from {
                    protocol tcp;
                    tcp-established;
                }
                then {
                    count tcp-established;
                    accept;
                }
            }
            term frag {
	            from {
			        is-fragment;
			    }
			    then {
			        count dns-frag;
			        accept;
			    }
           }
           term mgmt-fec {
                from {
                    forwarding-class [ MNGMT NETWORK-CONTROL];
                }
                then {
                    count mgmt-fec;
                    accept;
                }
            }
            term mgmt {
                from {
                    dscp [ cs2 cs6 ];
                }
                then {
                    count mgmt;
                    accept;
                }
            }
            term url-redirect {
               from {
				    destination-port [ http https ];
				    destination-address 69.252.80.75/32;
				}
                then {
                    count url-redirect;
                    accept;
                }
            }
            term icmp {
                from {
                    protocol icmp;
                    icmp-type [ echo-request echo-reply ];
                }
                then {
                    count icmp;
                    accept;
                }
            }
            term traceroute {
                from {
                    protocol udp;
                    destination-port 33434-33523;
                }
                then {
                    count traceroute;
                    accept;
                }
            }
            term isc {
                from {
                    protocol tcp;
                    tcp-established;
                    source-port 49222;
                    source-address {
                      149.20.4.192/27;
                      149.20.51.0/27;
                    }
                }
                then {
                    count isc;
                    accept;
                }
            }
            term dns-infra {
                from {
				    source-prefix-list {
				        IPV4-DNS-INFRASTRUCTURE;
				    }
				}
                then {
                    count dns-infra;
                    accept;
                }
            }
            term block-others {
                then {
                    count discards;
                    discard;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/FIREWALL/IPV4-DNS-IN


firewall {
    family inet {
        filter IPV4-DNS-IN {
            interface-specific;
            term green-dns {
                from {
                    destination-prefix-list {
				        IPV4-COMCAST-GREEN-PFX;
				    }
				    protocol [ tcp udp ];
				    source-port domain;
                }
                then {
                    count v4-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
            term mark-others-cs1 {
                then {
                    count cs1;
					loss-priority low;
					forwarding-class HSD;
                }
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/FIREWALL/IPV6-DNS-PROTECT


firewall {
    family inet6 {
        filter IPV6-DNS-PROTECT {
            interface-specific;
            term v6-dns {
                from {
                    next-header [ udp tcp];
                    port domain;
                }
                then {
                    count v6-dns;
                    accept;
                }
            }
            term v6-frag {
			    from {
			        next-header fragment;
			    }
			    then {
			        count v6-dns-frag;
			        accept;
			    }
			}
            term v6-mgmt-fec {
                from {
                    forwarding-class [ MNGMT NETWORK-CONTROL];
                }
                then {
                    count v6-mgmt-fec;
                    accept;
                }
            }
            term v6-mgmt {
                from {
                    traffic-class [ cs2 cs6 ];
                }
                then {
                    count v6-mgmt;
                    accept;
                }
            }
            term v6-url-redirect {
			    from {
			        destination-port [ http https ];
			        destination-address 2001:558:feed:1:69:252:80:75;
			    }
			    then {
			        count v6-url-redirect;
			        accept;
			    }
			}
            term v6-icmp {
                from {
                    next-header icmp6;
                    icmp-type [ neighbor-solicit neighbor-advertisement time-exceeded packet-too-big echo-request echo-reply destination-unreachable ];
                }
                then {
                    count v6-icmp-drop;
                    accept;
                }
            }
            term v6-traceroute {
                from {
                    next-header udp;
                    destination-port 33434-33523;
                }
                then {
                    count v6-traceroute;
                    accept;
                }
            }
            term v6-tcp-established {
                from {
                    next-header tcp;
                    tcp-established;
                }
                then {
                    count v6-tcp-established;
                    accept;
                }
            }
            term v6-dns-infra {
               from {
			        source-prefix-list {
			            IPV6-DNS-INFRASTRUCTURE;
			        }
			    }
                then {
                    count v6-dns-infra;
                    accept;
                }
            }
            term v6-block-others {
                then {
                    count v6-discards;
                    discard;
                }
            }
        }
     }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/FIREWALL/IPV6-DNS-IN


firewall {
    family inet6 {
        filter IPV6-DNS-IN {
            interface-specific;
            term green-dns {
                from {
                     destination-prefix-list {
				        IPV6-COMCAST-GREEN-PFX;
				    }
				    next-header [ tcp udp ];
				    source-port domain;
                }
                then {
                    count v6-cs2;
                    loss-priority high;
                    forwarding-class MNGMT;
                }
            }
            term mark-others-cs1 {
                then {
                    count v6-cs1;
					loss-priority low;
					forwarding-class HSD;
                }
            }
        }
   }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/IPV6-COMCAST-GREEN-PFX


policy-options {
	prefix-list IPV6-COMCAST-GREEN-PFX {
		 2001:558:1000::/40;
	     2001:558:1400::/40;
	     2001:558:3C0::/42;
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/IPV4-COMCAST-GREEN-PFX


policy-options {
	prefix-list IPV4-COMCAST-GREEN-PFX {
		10.22.0.0/16;
		10.54.0.0/16;
		10.60.0.0/15;
		10.63.0.0/16;
		10.131.0.0/16;
		10.138.0.0/16;
		10.143.0.0/16;
		10.144.0.0/16;
		10.146.0.0/16;
		10.252.0.0/14;
		172.20.0.0/17;
		172.20.132.0/22;
		172.20.136.0/21;
		172.20.144.0/20;
		172.20.160.0/22;
		172.20.164.0/23;
		172.20.168.0/21;
		172.20.224.0/19;
		172.24.16.0/20;
		172.24.32.0/19;
		172.24.64.0/19;
		172.24.96.0/20;
		172.24.112.0/22;
		172.24.128.0/20;
		172.24.159.0/24;
		172.24.160.0/19;
		172.24.192.0/18;
		172.28.64.0/18;
		172.28.128.0/17;
		172.30.0.0/19;
		172.30.96.0/19;
		172.30.128.0/18;
  		24.153.72.0/21;
  		67.178.0.0/17;
  		76.96.128.0/17;
  		96.106.0.0/15;
 		10.32.0.0/14;
 		10.38.0.0/15;
 		96.109.0.0/16;
 		172.21.0.0/16;
 		172.22.0.0/16;
 		172.30.208.0/21;
 		172.31.128.0/17;
		10.42.0.0/15;
		10.44.0.0/16;
		69.240.0.0/16;
		69.241.128.0/17;
		69.252.128.0/18;
		96.111.0.0/16;
		98.241.0.0/16;
 		10.46.0.0/15;
 		10.48.0.0/15;
 		67.178.128.0/17;
 		67.179.0.0/16;
 		96.110.0.0/16;
 		98.205.0.0/16;
	}
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/IPV4-DNS-INFRASTRUCTURE


policy-options {
	prefix-list IPV4-DNS-INFRASTRUCTURE {
	    68.42.244.0/24;
		68.52.0.0/23;
		68.52.8.0/23;
		75.75.72.0/21;
		10.0.0.0/8;
		24.40.0.0/18;
		24.40.64.0/20;
		67.178.0.0/15;
		68.85.0.0/16;
		68.86.0.0/15;
		69.139.128.0/17;
		69.240.0.0/15;
		69.252.0.0/16;
		76.96.0.0/16;
		96.106.0.0/15;
		96.108.0.0/16;
		96.109.0.0/16;
		96.110.0.0/16;
		96.111.0.0/16;
		96.112.0.0/15;
		96.114.0.0/15;
		96.116.0.0/14;
		98.205.0.0/16;
		98.241.0.0/16;
		147.191.0.0/16;
		162.150.0.0/15;
		165.137.0.0/16;
		169.152.0.0/16;
		172.16.0.0/12;
		192.168.0.0/16;

    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/IPV6-DNS-INFRASTRUCTURE


policy-options {
	prefix-list IPV6-DNS-INFRASTRUCTURE {
		2001:558::/35;
		2001:558:FA00::/40;
		2001:558:FC00::/39;
		2001:558:FE00::/39;
		fe80::/10;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/V6-DNS-PFX


policy-options {
    prefix-list V6-DNS-PFX {
		2001:558:FEED::1/128;
 		2001:558:FEED::2/128;
 		[% IPV6-ILO-OR-EXT-SERVICES_ASSIGNED_FOR_DNS_POD %]; Add more lines to accept ILO and ENS space;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/PREFIX-LISTS/V4-DNS-PFX


 policy-options {
    prefix-list V4-DNS-PFX {
        69.252.80.80/32;
        69.252.81.81/32;
		75.75.75.75/32;
 		76.76.76.76/32;
 		[% IPV4-ILO-OR-EXT-SERVICES_ASSIGNED_FOR_DNS_POD %]; Add more lines to accept ILO and ENS space;
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/POLICY-STATEMENTS/V4-DNS-IN


policy-options {
    policy-statement V4-DNS-IN {
        term permit {
            from {
                prefix-list-filter V4-DNS-PFX orlonger;
            }
            then {
                metric 100;
                local-preference 300;
                origin igp;
                accept;
            }
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/POLICY-STATEMENTS/DEFAULT-ONLY


 policy-options {
    policy-statement DEFAULT-ONLY {
        term default {
            from policy RF-MATCH-DEFAULT;
            then accept;
        }
        term deny {
            then reject;
        }
    }
 }

## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/POLICY-STATEMENTS/V6-DNS-IN


policy-options {
    policy-statement V6-DNS-IN {
        term permit {
            from {
                prefix-list-filter V6-DNS-PFX orlonger;
            }
            then {
                metric 100;
                local-preference 300;
                origin igp;
                accept;
            }
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/POLICIES/POLICY-STATEMENTS/V6-DEFAULT-ONLY


policy-options {
    policy-statement V6-DEFAULT-ONLY {
        term default {
            from policy RF-V6-MATCH-DEFAULT;
            then accept;
        }
        term deny {
            then reject;
        }
    }
}
## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/PROTOCOLS/IPV4U-TO-DNS


protocols {
    bgp {
        group IPV4U-TO-DNS {
            type external;
            description "DNS IPV4 Peering";
            export DEFAULT-ONLY;
            import [ V4-DNS-IN DENY-ALL ];
            traceoptions {
                file cran-to-dns-logs size 10m files 10;
                flag state;
            }
            log-updown;
            family inet {
                unicast {
                	prefix-limit {
                		maximum 1000;
                	}
                }
            }
            authentication-key "[% BGP-MD5-KEY %]";   ## bgp md5 key provided separately;
            peer-as 65100;
            bfd-liveness-detection {
                minimum-interval 300;
                multiplier 3;
            }
            neighbor [% SW01-INT-IPV4-ADDRESS %] {
                description "DNS-SW01";
            }
            neighbor [% LB03-INT-IPV4-ADDRESS %] {
                description "DNS-LB03";
            }
        }
    }
}



## JUNIPER - /ROOT/JUNIPER/CONFIG/MX960-UR/TASKS/DNS-POD/PROTOCOLS/IPV6U-TO-DNS



protocols {
    bgp {
        group IPV6U-TO-DNS {
            type external;
            description "Peering session with DNS POD router";
            export V6-DEFAULT-ONLY;
            import [ V6-DNS-IN DENY-ALL ];
            traceoptions {
                file v6-cran-to-dns-logs size 10m files 10;
                flag state;
            }
            log-updown;
            family inet6 {
                unicast {
                     prefix-limit {
                          maximum 1000;
                     }
                }
            }
            authentication-key "[% BGP-MD5-KEY %]";   ## bgp md5 key provided separately;
            peer-as 65100;
            bfd-liveness-detection {
                minimum-interval 300;
                multiplier 3;
            }
            neighbor [% SW01-INT-IPV6-ADDRESS %] {
                description "DNS-SW01";
            }
            neighbor [% LB03-INT-IPV6-ADDRESS %] {
                description "DNS-LB03";
            }
        }
    }
}
